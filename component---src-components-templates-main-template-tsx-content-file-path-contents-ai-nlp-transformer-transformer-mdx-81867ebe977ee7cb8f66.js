"use strict";(self.webpackChunkyeti_docs=self.webpackChunkyeti_docs||[]).push([[866],{1328:function(e,a,t){t.r(a),t.d(a,{default:function(){return q}});var m=t(1151),s=t(7294),l=t(2439);function n(e){const a=Object.assign({p:"p",code:"code",h1:"h1",span:"span",h3:"h3",math:"math",semantics:"semantics",mrow:"mrow",mi:"mi",annotation:"annotation",mo:"mo",div:"div",msub:"msub",mn:"mn",mtext:"mtext",msup:"msup",mspace:"mspace",mfrac:"mfrac",msqrt:"msqrt",svg:"svg",path:"path",msubsup:"msubsup"},(0,m.ah)(),e.components);return l||r("Elem",!1),l.Comment||r("Elem.Comment",!0),s.createElement(s.Fragment,null,s.createElement(a.p,null,"우리는 앞서 attention mechanism에 대해 배웠습니다.\r\n이러한 attention mechanism만을 이용하여 구성된 아키텍처가 ",s.createElement(a.code,null,"transformer"),"입니다."),"\n",s.createElement(a.h1,{id:"transformer"},"Transformer"),"\n",s.createElement(a.p,null,"Transforemr의 핵심은 self-attention mechanism 이에요.\r\n이는 병렬 연산을 가능하게 하여 확장성을 높여 주었죠."),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 372px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 142.04545454545456%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAESElEQVR42p1WaVPbSBDlz+/WHrX5kNRWimyBw2EIKS8G3we2sSRfsmxZhy/Jtx2wORdz2eZ426OUCQF/AKZqqiTNzJvufq+7NYdXjPv7exweHqLdbuP8/HzmnrnXAJ6enKJRb0DTNDQaDVxdXb0d8O7uDv3DAYy6CVES0eq0MKD3NwOORiPwBQFbsW2sudYQzARRqBZwf3f/NsCbmxuUyiZyeRWRGA9Nr6LeaLHIvg3w+voaaVEjMBFfvrohJBUoWpUumrwOkDHLxt7eHuK7LsSim3C7V5HgXUilIkRQEaenpw97X2yhYRhYdyxg0f4enz6/g239A3whJ1LJNLrd7mxA9uHxfDyKug631oWzNMASp8LbGCJR60PJ59GZBfgUgMlkNLq22GXTqBrYVQz4RB0rngj+5XJIUQyzoohOZwbgaDxGv99Hq91Do9lFKp0Fx6eRESWUSiXoepGsTKIgR+D1rCIWc4Dj/JCkPPb3938ATi1rNpsoFDTsxrYQDtrgcf+D2M4KxLQbPC9AURQ4HR+xvPgL1pb/wPrK74iEHUhnsuj1es8Bi2RFtVJFOJXASsCLhc2vsAd92I5HEY/HIeVy6EhO1OI2VKI2dJNL2CvuQsor6HY6swDLqBOT0WIL9nwT86EMbMkynHIDO+EwZLmAPO9BJuJAPLCBXHwTpi5CJdmUy2UMh2ffdTgFZB9VRYVeMZHMqQhEeZTqHRitnrUmyzKERIbEnYfPH0IkyqFCexU602q1H5Qxx9i8uLigjy0qS13UahXUDI3Y43Fy9A2HBz2rsrC5yzkQjixj0/kRbu88/IEvtC+HwWDww+Xb21ucnZ1ZwtW1Mrw+O5ZXf8Oq/U8sLf+Kza15YrlMF9UheBcR3HgHt/0vJDx/o5gNISvJ6FB9fB7DYhGVah2mFEJ66wNEsiDvn4cas1trVcNEW3ZiL7uGZmIFB/I69qs8xKz8c6Y8xJBYNswm2joHPfoZGb8NpbgdJcFhATYaTSjxDYj+BXDbn5ALLcKQY8iT1GayrGk6BblKwu5iJxKDy+Wh5M9AVXUrft1uj0pWydKkz+cHLyQoQ3oWWUzDP8WQjX5/gGxWQo70pqoqBEGwMqdDt7M+cnR0ZBHXI/cEnidFFCBmRDqTtTh4AGQbK5UK6vW6dcA0TSKghjwl/eXlJaYXTvObKUKnQsGsYpOl3fSZYc0dHx9bVjC3povsApkAz4dDjKkwTDU2pnz/j2qfmMnAtFShWWnHuiA7c3Bw8L04PJQsRg5tbiZTSHm8qFGcjGQSQ2qZ1wRc4sjV8A4SLjdMei5TpRlTa6DDlifMg2flq0wxkfwB8NsupL0+qBxnuc6sU2KUu4EguK1tiERMVcrh5lFIZrYA1owmNFkIJpOJNR+vMfAWheWWrBlPJi9ro6yBM7E+/TtgXpycnFj9hZHz4j8HBsgC/BSQEchEztKUkfBYLlPA/wFCRQclfBcvsgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="00"\n        title=""\n        src="/static/13442edc1ecd5a8a336167f28437c8dd/98b6e/00.png"\n        srcset="/static/13442edc1ecd5a8a336167f28437c8dd/06437/00.png 176w,\n/static/13442edc1ecd5a8a336167f28437c8dd/ba1c3/00.png 352w,\n/static/13442edc1ecd5a8a336167f28437c8dd/98b6e/00.png 372w"\n        sizes="(max-width: 372px) 100vw, 372px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",s.createElement(a.p,null,"여기서 이전에 배운 attention과는 다른 multi-head attention이 존재합니다.\r\n이는 정보를 처리할 때 한 가지 시선으로 보지 않고 여러 방면으로 처리를 하는 방법입니다.\r\n즉 하나의 query에 대한 N가지 attention이 존재하는 것이죠."),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 704px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 45.45454545454545%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABz0lEQVR42k2PV2/bQBCE+f//TN6SlxQkiOHYCdQos4iUZPbeJHZSmszRMZCHwd7tfje3I3VDi37scDyZ2MpbHEwdqqZA1RVc6gpiPs0TbvcbXu0zdmR0Q8OLsod2UCkN8ou8vLmSl8SDtm8W2DAPcBwL1r9zeSmWzxbD2ww/cHE6mzCOxrLA2Trxflz4A/mE/JshNc4DLmOPbGjgdjWaqcdAs4af3e8zqqGHWZco2LvNIwbyE+u7ummAXGaQehFZxKJUNqxriT95gjN/m/m4pjkYN+k7/MpiuIwl2PdFRB2oCzm5oKHYoORFxFb+MzRpKHo14TfDFo9pBIeGwqASKTi/UsJMeGyrHFLJLQRcUDGbBYGANaQqPswJiYjNNMJva2TkrkPHSiPWkkzKXtleEYgNrciDTYVZhCANEZcp/DSAlwRIaKbLawxdy21aWIEDN/bhk42YwiMf8LzcIx8nVYa0e/6E3dNHHJVHaNvveDVWUNdf8bL6AtvcQNv9YMQGeeJh/fAByuozjP0DTvpv6JwZ+59QN99gHzcw1CdIl6pEHIUoshSubSNLEkRhgMD3kCQxPMeh4YBxHDmLkZMTc5/zPMvguy6SOEYYMFEc4S8hb6Fy4V9LSAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="01"\n        title=""\n        src="/static/e84571e84d683b7d1f03d054293088b4/5ebd7/01.png"\n        srcset="/static/e84571e84d683b7d1f03d054293088b4/06437/01.png 176w,\n/static/e84571e84d683b7d1f03d054293088b4/ba1c3/01.png 352w,\n/static/e84571e84d683b7d1f03d054293088b4/5ebd7/01.png 704w,\n/static/e84571e84d683b7d1f03d054293088b4/ad12c/01.png 856w"\n        sizes="(max-width: 704px) 100vw, 704px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",s.createElement(a.h3,{id:"sequence-stacked-form-of-attention"},"Sequence stacked form of attention"),"\n",s.createElement(a.p,null,"Query, key, value를 이용해 attention을 계산하는 과정을 다시 생각해보죠.\r\n먼저 각 단어 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"x")),s.createElement(a.annotation,{encoding:"application/x-tex"},"x")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.4306em"}}),s.createElement(a.span,{className:"mord mathnormal"},"x"))))),"를 포함하는 하나의 큰 matrix ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"X")),s.createElement(a.annotation,{encoding:"application/x-tex"},"X")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"))))),"와 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"Q"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"K"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"V")),s.createElement(a.annotation,{encoding:"application/x-tex"},"Q, K, V")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8778em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord mathnormal"},"Q"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"K"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V")))))," matrix를 이용하여 query, key, value 벡터를 구합니다."),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"X"),s.createElement(a.mo,null,"="),s.createElement(a.mo,{stretchy:"false"},"["),s.createElement(a.msub,null,s.createElement(a.mi,null,"x"),s.createElement(a.mn,null,"1")),s.createElement(a.mo,{separator:"true"},";"),s.createElement(a.mo,null,"⋯"),s.createElement(a.mtext,null," "),s.createElement(a.mo,{separator:"true"},";"),s.createElement(a.msub,null,s.createElement(a.mi,null,"x"),s.createElement(a.mi,null,"n")),s.createElement(a.mo,{stretchy:"false"},"]"),s.createElement(a.mo,null,"∈"),s.createElement(a.msup,null,s.createElement(a.mi,{mathvariant:"double-struck"},"R"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"n"),s.createElement(a.mo,null,"×"),s.createElement(a.mi,null,"d"))),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mspace,{width:"1em"}),s.createElement(a.mi,null,"X"),s.createElement(a.mi,null,"K"),s.createElement(a.mo,null,"∈"),s.createElement(a.msup,null,s.createElement(a.mi,{mathvariant:"double-struck"},"R"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"n"),s.createElement(a.mo,null,"×"),s.createElement(a.mi,null,"d"))),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mspace,{width:"1em"}),s.createElement(a.mi,null,"X"),s.createElement(a.mi,null,"Q"),s.createElement(a.mo,null,"∈"),s.createElement(a.msup,null,s.createElement(a.mi,{mathvariant:"double-struck"},"R"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"n"),s.createElement(a.mo,null,"×"),s.createElement(a.mi,null,"d"))),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mspace,{width:"1em"}),s.createElement(a.mi,null,"X"),s.createElement(a.mi,null,"V"),s.createElement(a.mo,null,"∈"),s.createElement(a.msup,null,s.createElement(a.mi,{mathvariant:"double-struck"},"R"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"n"),s.createElement(a.mo,null,"×"),s.createElement(a.mi,null,"d")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"X = [x_1; \\cdots; x_n] \\in \\mathbb{R}^{n \\times d}, \\quad XK \\in \\mathbb{R}^{n \\times d}, \\quad XQ \\in \\mathbb{R}^{n \\times d}, \\quad XV \\in \\mathbb{R}^{n \\times d}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mopen"},"["),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal"},"x"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mpunct"},";"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"minner"},"⋯"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mpunct"},";"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal"},"x"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.1514em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"n")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mclose"},"]"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"∈"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.0935em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathbb"},"R"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8991em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"n"),s.createElement(a.span,{className:"mbin mtight"},"×"),s.createElement(a.span,{className:"mord mathnormal mtight"},"d"))))))))),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"1em"}}),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"K"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"∈"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.0935em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathbb"},"R"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8991em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"n"),s.createElement(a.span,{className:"mbin mtight"},"×"),s.createElement(a.span,{className:"mord mathnormal mtight"},"d"))))))))),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"1em"}}),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"XQ"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"∈"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.0935em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathbb"},"R"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8991em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"n"),s.createElement(a.span,{className:"mbin mtight"},"×"),s.createElement(a.span,{className:"mord mathnormal mtight"},"d"))))))))),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"1em"}}),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"∈"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8991em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathbb"},"R"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8991em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"n"),s.createElement(a.span,{className:"mbin mtight"},"×"),s.createElement(a.span,{className:"mord mathnormal mtight"},"d")))))))))))))),"\n",s.createElement(a.p,null,"이를 query와 key를 이용하여 attention score를 구한 후 softmax를 통해 구해진 attention distribution와 value를 곱해 결과를 얻어냅니다."),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"o"),s.createElement(a.mi,null,"u"),s.createElement(a.mi,null,"t"),s.createElement(a.mi,null,"p"),s.createElement(a.mi,null,"u"),s.createElement(a.mi,null,"t"),s.createElement(a.mo,null,"="),s.createElement(a.mi,null,"s"),s.createElement(a.mi,null,"o"),s.createElement(a.mi,null,"f"),s.createElement(a.mi,null,"t"),s.createElement(a.mi,null,"m"),s.createElement(a.mi,null,"a"),s.createElement(a.mi,null,"x"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"X"),s.createElement(a.mi,null,"Q"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"X"),s.createElement(a.mi,null,"K"),s.createElement(a.msup,null,s.createElement(a.mo,{stretchy:"false"},")"),s.createElement(a.mi,null,"T")),s.createElement(a.mo,{stretchy:"false"},")"),s.createElement(a.mi,null,"X"),s.createElement(a.mi,null,"V"),s.createElement(a.mo,null,"∈"),s.createElement(a.msup,null,s.createElement(a.mi,{mathvariant:"double-struck"},"R"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"n"),s.createElement(a.mo,null,"×"),s.createElement(a.mi,null,"d")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"output = softmax(XQ (XK)^T ) XV \\in \\mathbb{R}^{n \\times d}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8095em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord mathnormal"},"o"),s.createElement(a.span,{className:"mord mathnormal"},"u"),s.createElement(a.span,{className:"mord mathnormal"},"tp"),s.createElement(a.span,{className:"mord mathnormal"},"u"),s.createElement(a.span,{className:"mord mathnormal"},"t"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.1413em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord mathnormal"},"so"),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"}},"f"),s.createElement(a.span,{className:"mord mathnormal"},"t"),s.createElement(a.span,{className:"mord mathnormal"},"ma"),s.createElement(a.span,{className:"mord mathnormal"},"x"),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord mathnormal"},"XQ"),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"K"),s.createElement(a.span,{className:"mclose"},s.createElement(a.span,{className:"mclose"},")"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8913em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T")))))))),s.createElement(a.span,{className:"mclose"},")"),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"∈"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8991em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathbb"},"R"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8991em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"n"),s.createElement(a.span,{className:"mbin mtight"},"×"),s.createElement(a.span,{className:"mord mathnormal mtight"},"d")))))))))))))),"\n",s.createElement(a.h1,{id:"multi-head-attention"},"Multi-head attention"),"\n",s.createElement(a.p,null,"만약 이 연산 한번에 여러 관점으로 정보를 추출하고 싶다면 어떻게 해야 할까요?\r\n우리는 ",s.createElement(a.code,null,"multiple attention heads"),"를 정의할거예요.\r\n",s.createElement(a.code,null,"Attention head"),"가 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"h")),s.createElement(a.annotation,{encoding:"application/x-tex"},"h")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6944em"}}),s.createElement(a.span,{className:"mord mathnormal"},"h"))))),"이고 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mn,null,"1")),s.createElement(a.annotation,{encoding:"application/x-tex"},"1")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6444em"}}),s.createElement(a.span,{className:"mord"},"1"))))),"부터 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"h")),s.createElement(a.annotation,{encoding:"application/x-tex"},"h")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6944em"}}),s.createElement(a.span,{className:"mord mathnormal"},"h"))))),"까지 범위를 가지는 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"l")),s.createElement(a.annotation,{encoding:"application/x-tex"},"l")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6944em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"}},"l"))))),"에 대해 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"Q"),s.createElement(a.mi,null,"l")),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.msub,null,s.createElement(a.mi,null,"K"),s.createElement(a.mi,null,"l")),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.msub,null,s.createElement(a.mi,null,"V"),s.createElement(a.mi,null,"l")),s.createElement(a.mo,null,"∈"),s.createElement(a.msup,null,s.createElement(a.mi,{mathvariant:"double-struck"},"R"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"d"),s.createElement(a.mo,null,"×"),s.createElement(a.mfrac,null,s.createElement(a.mi,null,"d"),s.createElement(a.mi,null,"h"))))),s.createElement(a.annotation,{encoding:"application/x-tex"},"Q_l, K_l, V_l \\in \\mathbb{R}^{d \\times \\frac{d}{h}}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8778em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal"},"Q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3361em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"}},"l")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"K"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3361em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"}},"l")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3361em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.2222em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"}},"l")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"∈"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.979em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathbb"},"R"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.979em"}},s.createElement(a.span,{style:{top:"-3.363em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"d"),s.createElement(a.span,{className:"mbin mtight"},"×"),s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen nulldelimiter sizing reset-size3 size6"}),s.createElement(a.span,{className:"mfrac"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.88em"}},s.createElement(a.span,{style:{top:"-2.656em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"sizing reset-size3 size1 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"h")))),s.createElement(a.span,{style:{top:"-3.2255em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"frac-line mtight",style:{borderBottomWidth:"0.049em"}})),s.createElement(a.span,{style:{top:"-3.384em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"sizing reset-size3 size1 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"d"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.344em"}},s.createElement(a.span))))),s.createElement(a.span,{className:"mclose nulldelimiter sizing reset-size3 size6"})))))))))))))),"라고 합시다.\r\n각 attention head는 attention 연산을 각각 독립적으로 진행합니다."),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"o"),s.createElement(a.mi,null,"u"),s.createElement(a.mi,null,"t"),s.createElement(a.mi,null,"p"),s.createElement(a.mi,null,"u"),s.createElement(a.msub,null,s.createElement(a.mi,null,"t"),s.createElement(a.mi,null,"l")),s.createElement(a.mo,null,"="),s.createElement(a.mi,null,"s"),s.createElement(a.mi,null,"o"),s.createElement(a.mi,null,"f"),s.createElement(a.mi,null,"t"),s.createElement(a.mi,null,"m"),s.createElement(a.mi,null,"a"),s.createElement(a.mi,null,"x"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"X"),s.createElement(a.msub,null,s.createElement(a.mi,null,"Q"),s.createElement(a.mi,null,"l")),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"X"),s.createElement(a.msub,null,s.createElement(a.mi,null,"K"),s.createElement(a.mi,null,"l")),s.createElement(a.msup,null,s.createElement(a.mo,{stretchy:"false"},")"),s.createElement(a.mi,null,"T")),s.createElement(a.mo,{stretchy:"false"},")"),s.createElement(a.mi,null,"X"),s.createElement(a.msub,null,s.createElement(a.mi,null,"V"),s.createElement(a.mi,null,"l")),s.createElement(a.mo,null,"∈"),s.createElement(a.msup,null,s.createElement(a.mi,{mathvariant:"double-struck"},"R"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"n"),s.createElement(a.mo,null,"×"),s.createElement(a.mfrac,null,s.createElement(a.mi,null,"d"),s.createElement(a.mi,null,"h"))))),s.createElement(a.annotation,{encoding:"application/x-tex"},"output_l = softmax(XQ_l (XK_l)^T ) XV_l \\in \\mathbb{R}^{n \\times \\frac{d}{h}}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8095em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord mathnormal"},"o"),s.createElement(a.span,{className:"mord mathnormal"},"u"),s.createElement(a.span,{className:"mord mathnormal"},"tp"),s.createElement(a.span,{className:"mord mathnormal"},"u"),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal"},"t"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3361em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"}},"l")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.1413em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord mathnormal"},"so"),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"}},"f"),s.createElement(a.span,{className:"mord mathnormal"},"t"),s.createElement(a.span,{className:"mord mathnormal"},"ma"),s.createElement(a.span,{className:"mord mathnormal"},"x"),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal"},"Q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3361em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"}},"l")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"K"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3361em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"}},"l")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mclose"},s.createElement(a.span,{className:"mclose"},")"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8913em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T")))))))),s.createElement(a.span,{className:"mclose"},")"),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3361em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.2222em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"}},"l")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"∈"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.029em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathbb"},"R"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.029em"}},s.createElement(a.span,{style:{top:"-3.413em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"n"),s.createElement(a.span,{className:"mbin mtight"},"×"),s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen nulldelimiter sizing reset-size3 size6"}),s.createElement(a.span,{className:"mfrac"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.88em"}},s.createElement(a.span,{style:{top:"-2.656em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"sizing reset-size3 size1 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"h")))),s.createElement(a.span,{style:{top:"-3.2255em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"frac-line mtight",style:{borderBottomWidth:"0.049em"}})),s.createElement(a.span,{style:{top:"-3.384em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"sizing reset-size3 size1 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"d"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.344em"}},s.createElement(a.span))))),s.createElement(a.span,{className:"mclose nulldelimiter sizing reset-size3 size6"}))))))))))))))),"\n",s.createElement(a.p,null,"그리고 모든 head들에 대한 output을 합치면 최종 output이 나옵니다."),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"o"),s.createElement(a.mi,null,"u"),s.createElement(a.mi,null,"t"),s.createElement(a.mi,null,"p"),s.createElement(a.mi,null,"u"),s.createElement(a.mi,null,"t"),s.createElement(a.mo,null,"="),s.createElement(a.mo,{stretchy:"false"},"["),s.createElement(a.mi,null,"o"),s.createElement(a.mi,null,"u"),s.createElement(a.mi,null,"t"),s.createElement(a.mi,null,"p"),s.createElement(a.mi,null,"u"),s.createElement(a.msub,null,s.createElement(a.mi,null,"t"),s.createElement(a.mn,null,"1")),s.createElement(a.mo,{separator:"true"},";"),s.createElement(a.mo,null,"⋯"),s.createElement(a.mtext,null," "),s.createElement(a.mo,{separator:"true"},";"),s.createElement(a.mi,null,"o"),s.createElement(a.mi,null,"u"),s.createElement(a.mi,null,"t"),s.createElement(a.mi,null,"p"),s.createElement(a.mi,null,"u"),s.createElement(a.msub,null,s.createElement(a.mi,null,"t"),s.createElement(a.mi,null,"h")),s.createElement(a.mo,{stretchy:"false"},"]"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mtext,null,"  "),s.createElement(a.mi,null,"w"),s.createElement(a.mi,null,"h"),s.createElement(a.mi,null,"e"),s.createElement(a.mi,null,"r"),s.createElement(a.mi,null,"e"),s.createElement(a.mtext,null,"  "),s.createElement(a.mi,null,"o"),s.createElement(a.mi,null,"u"),s.createElement(a.mi,null,"t"),s.createElement(a.mi,null,"p"),s.createElement(a.mi,null,"u"),s.createElement(a.mi,null,"t"),s.createElement(a.mo,null,"∈"),s.createElement(a.msup,null,s.createElement(a.mi,{mathvariant:"double-struck"},"R"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"n"),s.createElement(a.mo,null,"×"),s.createElement(a.mi,null,"d")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"output = [output_1; \\cdots; output_h], \\; where \\; output \\in \\mathbb{R}^{n \\times d}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8095em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord mathnormal"},"o"),s.createElement(a.span,{className:"mord mathnormal"},"u"),s.createElement(a.span,{className:"mord mathnormal"},"tp"),s.createElement(a.span,{className:"mord mathnormal"},"u"),s.createElement(a.span,{className:"mord mathnormal"},"t"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mopen"},"["),s.createElement(a.span,{className:"mord mathnormal"},"o"),s.createElement(a.span,{className:"mord mathnormal"},"u"),s.createElement(a.span,{className:"mord mathnormal"},"tp"),s.createElement(a.span,{className:"mord mathnormal"},"u"),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal"},"t"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mpunct"},";"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"minner"},"⋯"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mpunct"},";"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"o"),s.createElement(a.span,{className:"mord mathnormal"},"u"),s.createElement(a.span,{className:"mord mathnormal"},"tp"),s.createElement(a.span,{className:"mord mathnormal"},"u"),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal"},"t"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3361em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"h")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mclose"},"]"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"}},"w"),s.createElement(a.span,{className:"mord mathnormal"},"h"),s.createElement(a.span,{className:"mord mathnormal"},"ere"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mord mathnormal"},"o"),s.createElement(a.span,{className:"mord mathnormal"},"u"),s.createElement(a.span,{className:"mord mathnormal"},"tp"),s.createElement(a.span,{className:"mord mathnormal"},"u"),s.createElement(a.span,{className:"mord mathnormal"},"t"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"∈"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8991em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathbb"},"R"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8991em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"n"),s.createElement(a.span,{className:"mbin mtight"},"×"),s.createElement(a.span,{className:"mord mathnormal mtight"},"d")))))))))))))),"\n",s.createElement(a.p,null,"위와 같은 방식을 실제로는 한번의 연산으로 진행합니다.\r\n먼저 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"X"),s.createElement(a.mi,null,"Q"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"X"),s.createElement(a.mi,null,"K"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"X"),s.createElement(a.mi,null,"V"),s.createElement(a.mo,null,"∈"),s.createElement(a.msup,null,s.createElement(a.mi,{mathvariant:"double-struck"},"R"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"n"),s.createElement(a.mo,null,"×"),s.createElement(a.mi,null,"d")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"XQ, XK, XV \\in \\mathbb{R}^{n \\times d}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8778em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord mathnormal"},"XQ"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"K"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"∈"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8491em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathbb"},"R"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8491em"}},s.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"n"),s.createElement(a.span,{className:"mbin mtight"},"×"),s.createElement(a.span,{className:"mord mathnormal mtight"},"d"))))))))))))),"의 상태를 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msup,null,s.createElement(a.mi,{mathvariant:"double-struck"},"R"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"n"),s.createElement(a.mo,null,"×"),s.createElement(a.mi,null,"h"),s.createElement(a.mo,null,"×"),s.createElement(a.mfrac,null,s.createElement(a.mi,null,"d"),s.createElement(a.mi,null,"h"))))),s.createElement(a.annotation,{encoding:"application/x-tex"},"\\mathbb{R}^{n \\times h \\times \\frac{d}{h}}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.979em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathbb"},"R"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.979em"}},s.createElement(a.span,{style:{top:"-3.363em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"n"),s.createElement(a.span,{className:"mbin mtight"},"×"),s.createElement(a.span,{className:"mord mathnormal mtight"},"h"),s.createElement(a.span,{className:"mbin mtight"},"×"),s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen nulldelimiter sizing reset-size3 size6"}),s.createElement(a.span,{className:"mfrac"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.88em"}},s.createElement(a.span,{style:{top:"-2.656em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"sizing reset-size3 size1 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"h")))),s.createElement(a.span,{style:{top:"-3.2255em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"frac-line mtight",style:{borderBottomWidth:"0.049em"}})),s.createElement(a.span,{style:{top:"-3.384em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"sizing reset-size3 size1 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"d"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.344em"}},s.createElement(a.span))))),s.createElement(a.span,{className:"mclose nulldelimiter sizing reset-size3 size6"})))))))))))))),"의 형태로 만들어줍니다.\r\n그 후 이를 transpose하여 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msup,null,s.createElement(a.mi,{mathvariant:"double-struck"},"R"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"h"),s.createElement(a.mo,null,"×"),s.createElement(a.mi,null,"n"),s.createElement(a.mo,null,"×"),s.createElement(a.mfrac,null,s.createElement(a.mi,null,"d"),s.createElement(a.mi,null,"h"))))),s.createElement(a.annotation,{encoding:"application/x-tex"},"\\mathbb{R}^{h \\times n \\times \\frac{d}{h}}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.979em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathbb"},"R"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.979em"}},s.createElement(a.span,{style:{top:"-3.363em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"h"),s.createElement(a.span,{className:"mbin mtight"},"×"),s.createElement(a.span,{className:"mord mathnormal mtight"},"n"),s.createElement(a.span,{className:"mbin mtight"},"×"),s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen nulldelimiter sizing reset-size3 size6"}),s.createElement(a.span,{className:"mfrac"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.88em"}},s.createElement(a.span,{style:{top:"-2.656em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"sizing reset-size3 size1 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"h")))),s.createElement(a.span,{style:{top:"-3.2255em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"frac-line mtight",style:{borderBottomWidth:"0.049em"}})),s.createElement(a.span,{style:{top:"-3.384em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"sizing reset-size3 size1 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"d"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.344em"}},s.createElement(a.span))))),s.createElement(a.span,{className:"mclose nulldelimiter sizing reset-size3 size6"})))))))))))))),"로 만들고 이를 query, key 연산을 진행하면 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msup,null,s.createElement(a.mi,{mathvariant:"double-struck"},"R"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"h"),s.createElement(a.mo,null,"×"),s.createElement(a.mi,null,"n"),s.createElement(a.mo,null,"×"),s.createElement(a.mi,null,"n")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"\\mathbb{R}^{h \\times n \\times n}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8491em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathbb"},"R"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8491em"}},s.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"h"),s.createElement(a.span,{className:"mbin mtight"},"×"),s.createElement(a.span,{className:"mord mathnormal mtight"},"n"),s.createElement(a.span,{className:"mbin mtight"},"×"),s.createElement(a.span,{className:"mord mathnormal mtight"},"n")))))))))))))," 형태가 됩니다.\r\n여기서 softmax를 적용하면 각각의 head별 softmax가 진행되고 이를 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"X"),s.createElement(a.mi,null,"V")),s.createElement(a.annotation,{encoding:"application/x-tex"},"XV")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V"))))),"와 곱해 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msup,null,s.createElement(a.mi,{mathvariant:"double-struck"},"R"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"h"),s.createElement(a.mo,null,"×"),s.createElement(a.mi,null,"n"),s.createElement(a.mo,null,"×"),s.createElement(a.mfrac,null,s.createElement(a.mi,null,"d"),s.createElement(a.mi,null,"h"))))),s.createElement(a.annotation,{encoding:"application/x-tex"},"\\mathbb{R}^{h \\times n \\times \\frac{d}{h}}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.979em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathbb"},"R"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.979em"}},s.createElement(a.span,{style:{top:"-3.363em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"h"),s.createElement(a.span,{className:"mbin mtight"},"×"),s.createElement(a.span,{className:"mord mathnormal mtight"},"n"),s.createElement(a.span,{className:"mbin mtight"},"×"),s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen nulldelimiter sizing reset-size3 size6"}),s.createElement(a.span,{className:"mfrac"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.88em"}},s.createElement(a.span,{style:{top:"-2.656em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"sizing reset-size3 size1 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"h")))),s.createElement(a.span,{style:{top:"-3.2255em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"frac-line mtight",style:{borderBottomWidth:"0.049em"}})),s.createElement(a.span,{style:{top:"-3.384em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"sizing reset-size3 size1 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"d"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.344em"}},s.createElement(a.span))))),s.createElement(a.span,{className:"mclose nulldelimiter sizing reset-size3 size6"})))))))))))))),"의 형태가 됩니다.\r\n이를 다시 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msup,null,s.createElement(a.mi,{mathvariant:"double-struck"},"R"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"n"),s.createElement(a.mo,null,"×"),s.createElement(a.mi,null,"d")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"\\mathbb{R}^{n \\times d}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8491em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathbb"},"R"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8491em"}},s.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"n"),s.createElement(a.span,{className:"mbin mtight"},"×"),s.createElement(a.span,{className:"mord mathnormal mtight"},"d"))))))))))))),"의 형태로 만들어 주면 연산은 끝이 납니다.\r\n이처럼 한번의 연산으로 multi-head atttention 연산이 진행됩니다."),"\n",s.createElement(a.p,null,"이때 dimension ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"d")),s.createElement(a.annotation,{encoding:"application/x-tex"},"d")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6944em"}}),s.createElement(a.span,{className:"mord mathnormal"},"d"))))),"가 클수록 dot product의 결과가 더 큰 값을 가지게 되고,\r\n이는 softmax 함수를 거칠 때 가장 큰 값에 대해 높은 확률을 할당하여 여러 문제가 발생할 수 있어요.\r\n그래서 우리는 softmax를 하기 전 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msqrt,null,s.createElement(a.mfrac,null,s.createElement(a.mi,null,"d"),s.createElement(a.mi,null,"h")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"\\sqrt{\\frac{d}{h}}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.84em",verticalAlign:"-0.5874em"}}),s.createElement(a.span,{className:"mord sqrt"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.2526em"}},s.createElement(a.span,{className:"svg-align",style:{top:"-3.8em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.8em"}}),s.createElement(a.span,{className:"mord",style:{paddingLeft:"1em"}},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mopen nulldelimiter"}),s.createElement(a.span,{className:"mfrac"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8801em"}},s.createElement(a.span,{style:{top:"-2.655em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"h")))),s.createElement(a.span,{style:{top:"-3.23em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})),s.createElement(a.span,{style:{top:"-3.394em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"d"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.345em"}},s.createElement(a.span))))),s.createElement(a.span,{className:"mclose nulldelimiter"})))),s.createElement(a.span,{style:{top:"-3.2126em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.8em"}}),s.createElement(a.span,{className:"hide-tail",style:{minWidth:"1.02em",height:"1.88em"}},s.createElement(a.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.88em",viewBox:"0 0 400000 1944",preserveAspectRatio:"xMinYMin slice"},s.createElement(a.path,{d:"M983 90\nl0 -0\nc4,-6.7,10,-10,18,-10 H400000v40\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM1001 80h400000v40h-400000z"}))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.5874em"}},s.createElement(a.span))))))))),"로 나누어주는 ",s.createElement(a.code,null,"scaled dot product"),"를 진행할거예요."),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"o"),s.createElement(a.mi,null,"u"),s.createElement(a.mi,null,"t"),s.createElement(a.mi,null,"p"),s.createElement(a.mi,null,"u"),s.createElement(a.msub,null,s.createElement(a.mi,null,"t"),s.createElement(a.mi,null,"l")),s.createElement(a.mo,null,"="),s.createElement(a.mi,null,"s"),s.createElement(a.mi,null,"o"),s.createElement(a.mi,null,"f"),s.createElement(a.mi,null,"t"),s.createElement(a.mi,null,"m"),s.createElement(a.mi,null,"a"),s.createElement(a.mi,null,"x"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mfrac,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"X"),s.createElement(a.msub,null,s.createElement(a.mi,null,"Q"),s.createElement(a.mi,null,"l")),s.createElement(a.msubsup,null,s.createElement(a.mi,null,"K"),s.createElement(a.mi,null,"l"),s.createElement(a.mi,null,"T")),s.createElement(a.msup,null,s.createElement(a.mi,null,"X"),s.createElement(a.mi,null,"T"))),s.createElement(a.msqrt,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"d"),s.createElement(a.mi,{mathvariant:"normal"},"/"),s.createElement(a.mi,null,"h")))),s.createElement(a.mo,{stretchy:"false"},")"),s.createElement(a.mi,null,"X"),s.createElement(a.msub,null,s.createElement(a.mi,null,"V"),s.createElement(a.mi,null,"l"))),s.createElement(a.annotation,{encoding:"application/x-tex"},"output_l = softmax(\\frac{XQ_l K_l^T X^T}{\\sqrt{d/h}}) XV_l")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8095em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord mathnormal"},"o"),s.createElement(a.span,{className:"mord mathnormal"},"u"),s.createElement(a.span,{className:"mord mathnormal"},"tp"),s.createElement(a.span,{className:"mord mathnormal"},"u"),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal"},"t"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3361em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"}},"l")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"2.6483em",verticalAlign:"-1.13em"}}),s.createElement(a.span,{className:"mord mathnormal"},"so"),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"}},"f"),s.createElement(a.span,{className:"mord mathnormal"},"t"),s.createElement(a.span,{className:"mord mathnormal"},"ma"),s.createElement(a.span,{className:"mord mathnormal"},"x"),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mopen nulldelimiter"}),s.createElement(a.span,{className:"mfrac"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.5183em"}},s.createElement(a.span,{style:{top:"-2.175em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord sqrt"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.935em"}},s.createElement(a.span,{className:"svg-align",style:{top:"-3.2em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.2em"}}),s.createElement(a.span,{className:"mord",style:{paddingLeft:"1em"}},s.createElement(a.span,{className:"mord mathnormal"},"d"),s.createElement(a.span,{className:"mord"},"/"),s.createElement(a.span,{className:"mord mathnormal"},"h"))),s.createElement(a.span,{style:{top:"-2.895em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.2em"}}),s.createElement(a.span,{className:"hide-tail",style:{minWidth:"1.02em",height:"1.28em"}},s.createElement(a.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.28em",viewBox:"0 0 400000 1296",preserveAspectRatio:"xMinYMin slice"},s.createElement(a.path,{d:"M263,681c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl0 -0\nc4.7,-7.3,11,-11,19,-11\nH40000v40H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM1001 80h400000v40h-400000z"}))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.305em"}},s.createElement(a.span))))))),s.createElement(a.span,{style:{top:"-3.23em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})),s.createElement(a.span,{style:{top:"-3.677em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal"},"Q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3361em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"}},"l")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"K"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8413em"}},s.createElement(a.span,{style:{top:"-2.4169em",marginLeft:"-0.0715em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"}},"l"))),s.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.2831em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8413em"}},s.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T"))))))))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.13em"}},s.createElement(a.span))))),s.createElement(a.span,{className:"mclose nulldelimiter"})),s.createElement(a.span,{className:"mclose"},")"),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3361em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.2222em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"}},"l")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))))))),"\n",s.createElement(a.h1,{id:"optimization"},"Optimization"),"\n",s.createElement(a.p,null,"모델의 깊이가 깊을수록 학습을 시키는 일은 쉽지 않습니다.\r\n그래서 우리는 최적화를 위한 몇 가지 방법을 사용할 것이에요."),"\n",s.createElement(a.h3,{id:"residual-connection"},"Residual Connection"),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 340px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 21.59090909090909%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA3ElEQVR42lWPzUrEQBCE87zrwYsP4NnH8KJ4WVFw2XtQUIl42Rj0YmQPCZOYDZPMZP4+yUBgLSi6aLqK6sRaS13XCCFomgZnHcYarLSEpwmfTvDsI31q4M0jKsEu3zFNE845xnGkLMs4k1lkWUbbtjFUjYqDPNB9/6IvO/KLdzZnd6xPb3g9f4QtbG4fWJ2sqKoKKWX0F0WBUorEe08IgWP44OnrHlJHtd7zeZXzdf1Bdy/gJaCkovwp4+3snVsuSJblceis+75nGAeMNjjjIrXSyEHG17TW/0os/j+nCSw3o6CADgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="02"\n        title=""\n        src="/static/0b0d17fb774ba962150328a3edbac90f/9f933/02.png"\n        srcset="/static/0b0d17fb774ba962150328a3edbac90f/06437/02.png 176w,\n/static/0b0d17fb774ba962150328a3edbac90f/9f933/02.png 340w"\n        sizes="(max-width: 340px) 100vw, 340px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",s.createElement(a.p,null,"레이어 앞뒤로 short cut을 만들어 주는 것입니다."),"\n",s.createElement(a.h3,{id:"layer-normalization"},"Layer normalization"),"\n",s.createElement(a.p,null,"기존 DNN 모델들은 feature map이 hidden layer를 지나면서 그 분포가 점점 정규분포를 벗어나는 현상이 발생하였습니다.\r\n이로 인해 너무 큰 값을 가지게 되고 이는 여러 backpropagation 시 여러 activation function에서 기울기를 0에 수렴하도록 만드는 원인이 되었어요.\r\n그래서 이를 해결하기 위해 feature map을 표준정규분포의 모양으로 만들어 주는 batch normalization이란 방법이 등장하였습니다."),"\n",s.createElement(a.p,null,"하지만 batch normalization은 batch size에 대한 의존적인 면이 크고 특히 size가 1일 경우 분산이 0이 되어 적용이 불가능합니다.\r\n또한 다양한 길이의 데이터를 처리하는 recurrent한 모델에서는 작동하기 어려워요.\r\n특히 시간적인 정보를 전달하는 모델의 특성이 batch normalization으로 인해 독립적인 통계치로 정규화 되어 시간적 의존성을 무시하게 됩니다.\r\n따라서 새로운 방법을 찾을 필요가 있었어요."),"\n",s.createElement(a.p,null,s.createElement(a.code,null,"Layer normalization"),"은 feature별 정규화가 아닌 레이어 내에서 hidden vector의 정규화를 진행합니다.\r\n레어이별 정규화를 진행하기 떄문에 batch size에 대한 의존성이 존재하지 않아요.\r\n또한 레이어별 정규화를 진행하기 떄문에 이전 단계와의 의존성이 변하지 않습니다."),"\n",s.createElement(l.Comment,null,s.createElement(a.p,null,s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"n"),s.createElement(a.mo,null,"×"),s.createElement(a.mi,null,"d")),s.createElement(a.annotation,{encoding:"application/x-tex"},"n \\times d")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6667em",verticalAlign:"-0.0833em"}}),s.createElement(a.span,{className:"mord mathnormal"},"n"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"×"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6944em"}}),s.createElement(a.span,{className:"mord mathnormal"},"d")))))," 형태의 입력 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"X")),s.createElement(a.annotation,{encoding:"application/x-tex"},"X")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X")))))," 라면 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"d")),s.createElement(a.annotation,{encoding:"application/x-tex"},"d")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6944em"}}),s.createElement(a.span,{className:"mord mathnormal"},"d")))))," 차원에 대해 정규화를 진행")),"\n",s.createElement(a.h3,{id:"cross-attention"},"Cross attention"),"\n",s.createElement(a.p,null,"기존 seq2seq 모델을 생각하면 인코더 마지막 레이어의 hidden state를 디코더에서 이용하여 문장을 생성하였어요.\r\n이처럼 transformer 에서도 인코더에서 추출한 정보와 masked-multihead attention을 통해 생성된 정보를 이용하여 출력을 생산할거예요.\r\n이때 self-attention과 비슷하지만 약간 다른 방식으로 연산을 진행할 생각입니다.\r\nKey와 value는 인코더에서, query는 디코더에서 가져오는 방식이죠.\r\n인코더의 hidden state ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"h"),s.createElement(a.mi,null,"i"))),s.createElement(a.annotation,{encoding:"application/x-tex"},"h_i")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8444em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal"},"h"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))))))),", 디코더의 hidden state ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"z"),s.createElement(a.mi,null,"i"))),s.createElement(a.annotation,{encoding:"application/x-tex"},"z_i")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.04398em"}},"z"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.044em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))))))),"라고 한다면 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"k"),s.createElement(a.mi,null,"i")),s.createElement(a.mo,null,"="),s.createElement(a.mi,null,"K"),s.createElement(a.msub,null,s.createElement(a.mi,null,"h"),s.createElement(a.mi,null,"i")),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.msub,null,s.createElement(a.mi,null,"v"),s.createElement(a.mi,null,"i")),s.createElement(a.mo,null,"="),s.createElement(a.mi,null,"V"),s.createElement(a.msub,null,s.createElement(a.mi,null,"h"),s.createElement(a.mi,null,"i")),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.msub,null,s.createElement(a.mi,null,"q"),s.createElement(a.mi,null,"i")),s.createElement(a.mo,null,"="),s.createElement(a.mi,null,"Q"),s.createElement(a.msub,null,s.createElement(a.mi,null,"z"),s.createElement(a.mi,null,"i"))),s.createElement(a.annotation,{encoding:"application/x-tex"},"k_i = Kh_i, v_i = Vh_i, q_i = Qz_i")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8444em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"}},"k"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0315em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"K"),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal"},"h"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V"),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal"},"h"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8778em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord mathnormal"},"Q"),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.04398em"}},"z"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.044em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))))))," 입니다.\r\n이후 기존 self-attention과 같은 방식으로 연산을 진행하는 것이죠."),"\n",s.createElement(a.h3,{id:"quadratic-cost-of-attention"},"Quadratic cost of attention"),"\n",s.createElement(a.p,null,"Self-attnetion의 장점은 병렬적인 연산을 수행할 수 있다는 것이에요.\r\n하지만 큰 단점이 sequence와 dimension의 크기에 따라 연산량이 크게 증가하는 것이죠.\r\n",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"O"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.msup,null,s.createElement(a.mi,null,"n"),s.createElement(a.mn,null,"2")),s.createElement(a.mi,null,"d"),s.createElement(a.mo,{stretchy:"false"},")")),s.createElement(a.annotation,{encoding:"application/x-tex"},"O(n^2 d)")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.0641em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"O"),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal"},"n"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8141em"}},s.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))))))),s.createElement(a.span,{className:"mord mathnormal"},"d"),s.createElement(a.span,{className:"mclose"},")"))))),"의 연산량을 가지고 있습니다.\r\n그럼에도 좋은 성능때문에 self-attention을 쓰지 않는 모델은 거의 없을 정도에요."))}var c=function(e){void 0===e&&(e={});const{wrapper:a}=Object.assign({},(0,m.ah)(),e.components);return a?s.createElement(a,e,s.createElement(n,e)):n(e)};function r(e,a){throw new Error("Expected "+(a?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}var i=t(4316),p=t(1840),E=t(7821),h=t(2654),o=t(4111),N=t(2726),g=t(4480),u=t(2818),d=t(9213),y=t(7213),v=t(9265),b=t(9601),w=t(3071),x=t(6097),z=t(6782),R=t(4891),f=t(3387),k=t(917);const A=e=>{let{data:{mdx:a},children:t}=e;const l=(0,g.sJ)((0,u.cp)(u.eE,!1)),n=(0,g.sJ)((0,u.cp)(u.rf,!1)),c=(0,g.Zl)((0,u.cp)(u.Cy,a.tableOfContents.items));return(0,s.useEffect)((()=>{c(a.tableOfContents.items)}),[a]),(0,k.tZ)(p.Z,null,(0,k.tZ)(M,null,(0,k.tZ)(o.Z,null)),(0,k.tZ)(L,null,(0,k.tZ)(X,{className:"navigation",isNavOpened:n},(0,k.tZ)(Z,{className:"hide_scroll"},(0,k.tZ)(E.Z,null))),(0,k.tZ)(H,{isNavOpened:n},(0,k.tZ)(Q,{isWide:l},(0,k.tZ)(N.Z,{title:a.frontmatter.title,date:a.frontmatter.date}),(0,k.tZ)(m.Zo,{components:{p:y.Z,h1:v.H1,h2:v.H2,h3:v.H3,h4:v.H4,h5:v.H5,h6:v.H6,hr:b.Z,blockquote:w.Z,ul:z.Z,ol:x.Z,pre:R.Z,code:f.Z}},t))),(0,k.tZ)(B,null,(0,k.tZ)(K,null,(0,k.tZ)(h.Z,null)))))},M=(0,i.Z)("div",{target:"e1ojob7j7"})({name:"11t2x7x",styles:"display:flex;height:var(--header-height);z-index:5;padding:0.6rem 2rem 0.6rem 0.6rem;position:fixed;width:100%;background:var(--background-color);border-bottom:1px solid var(--border-color)"}),L=(0,i.Z)("div",{target:"e1ojob7j6"})({name:"majwgz",styles:"position:relative;display:flex;min-height:calc(100vh - var(--header-height));overflow-x:hidden"}),X=(0,i.Z)("aside",{target:"e1ojob7j5"})("margin-left:",(e=>e.isNavOpened?"0":"calc(-1 * var(--sidebar-width))"),";flex:0 0 var(--sidebar-width);font-size:0.875rem;overflow-x:hidden;overflow-y:auto;transition:margin 0.25s var(--ease-in-out-quad);@media (min-width: ",d.Z.IPAD_PRO,"px){margin-left:0;}"),Z=(0,i.Z)("nav",{target:"e1ojob7j4"})({name:"l4vzaw",styles:"overflow-y:auto;height:100%;padding:var(--body-padding-top) 0 3rem 0;position:fixed;width:var(--sidebar-width);&:-webkit-scrollbar{display:none;}"}),Q=(0,i.Z)("main",{target:"e1ojob7j3"})("padding:1rem;width:100%;@media (min-width: ",d.Z.IPAD_AIR,"px){width:",(e=>e.isWide?"90%":"65%"),";}"),H=(0,i.Z)("main",{target:"e1ojob7j2"})("width:calc(100% - 2 * var(--sidebar-width));padding-top:var(--body-padding-top);flex-grow:1;min-width:20rem;display:flex;justify-content:center;opacity:",(e=>e.isNavOpened?.3:1),";@media (min-width: ",d.Z.IPAD_PRO,"px){opacity:1;}"),B=(0,i.Z)("aside",{target:"e1ojob7j1"})("font-size:0.75rem;font-weight:bold;overflow-x:hidden;overflow-y:auto;padding-top:var(--body-padding-top);width:0;transition:width 0.25s var(--ease-in-out-quad);@media (min-width: ",d.Z.HD,"px){width:var(--sidebar-width);}"),K=(0,i.Z)(Z,{target:"e1ojob7j0"})({name:"b40oxt",styles:"padding:0 1rem 0 1rem"});function q(e){return s.createElement(A,e,s.createElement(c,e))}}}]);
//# sourceMappingURL=component---src-components-templates-main-template-tsx-content-file-path-contents-ai-nlp-transformer-transformer-mdx-81867ebe977ee7cb8f66.js.map