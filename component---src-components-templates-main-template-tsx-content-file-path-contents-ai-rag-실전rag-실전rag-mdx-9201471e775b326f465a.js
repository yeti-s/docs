"use strict";(self.webpackChunkyeti_docs=self.webpackChunkyeti_docs||[]).push([[7122],{821:function(e,a,t){t.r(a),t.d(a,{default:function(){return I}});var n=t(1151),l=t(7294);function s(e){const a=Object.assign({p:"p",code:"code",span:"span",h1:"h1",blockquote:"blockquote",div:"div",math:"math",semantics:"semantics",mrow:"mrow",mi:"mi",msub:"msub",mo:"mo",mn:"mn",msup:"msup",annotation:"annotation",h3:"h3"},(0,n.ah)(),e.components);return l.createElement(l.Fragment,null,l.createElement(a.p,null,"우리는 조금 더 구체적이고 정확한 답변을 생성하기 위해 LLM에 기존의 요청뿐 아니라 관련된 내용을 함께 넣어줍니다.\r\n이러한 방식을 ",l.createElement(a.code,null,"RAG(Retrieval Augmented Generation)"),"이라고 하는데요.\r\n실제적으로 조금 더 정확하게 관련된 내용을 가져오는 방법들에 대해 알아보려고 합니다."),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<figure class="gatsby-resp-image-figure" style="">\n    <span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 704px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 42.61363636363637%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABjUlEQVR42o1SMUgCURh+3qmnhnZ3NnRqi7hIBoItERxEEIJDQRAIQeTQTQfRkDpFES65SEFGEIVI0JA0BEFBIBbVVO0RTS01uRX4dff0LhOFHvy89773/d/H+94jhBD8tywWC515XkAkMoyAP9CN11wwDNO1ub3YFietLqF6VkZxawN9LtdffigUQjAY1Fx5tIvrhE5RwzQxNYn9nTyUxXmwLAvS4lI+tNFoNFAoFMzGUqlk7m02G5xOJwRBME2Lh9v4/H7H9cMlBJGnHLfb/StYr9dRq9WablpDNpvVYeRyObpfX13G7fkJ9vKbYC0MypUDPL3c4ebxCv6AD5IkIRwOU1MqqI9qtQqO45qgJqKqKsXT6QzGYlEtNwVz0wl6dnpxjI+vNzy/3kPyDYKzc/B6vXA4HCCyLCMejyMWi5nhGlkpioJUKmXiRqbyxDgyayuYTc5QEY+nH6Io0iK9vkj7q+trqxZH508wasgvYTQ6AruWJdFzY3uQe+E6pp9ZrdbmTRaSqBztYkAU8AN2qBLuhVZH2gAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Pipeline"\n        title=""\n        src="/static/b8109f3afa14e5c62f48c42aa5e8ba50/5ebd7/RAG_pipeline.png"\n        srcset="/static/b8109f3afa14e5c62f48c42aa5e8ba50/06437/RAG_pipeline.png 176w,\n/static/b8109f3afa14e5c62f48c42aa5e8ba50/ba1c3/RAG_pipeline.png 352w,\n/static/b8109f3afa14e5c62f48c42aa5e8ba50/5ebd7/RAG_pipeline.png 704w,\n/static/b8109f3afa14e5c62f48c42aa5e8ba50/fd84e/RAG_pipeline.png 1056w,\n/static/b8109f3afa14e5c62f48c42aa5e8ba50/d93d9/RAG_pipeline.png 1243w"\n        sizes="(max-width: 704px) 100vw, 704px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>\n    <figcaption class="gatsby-resp-image-figcaption">Pipeline</figcaption>\n  </figure>'}}),"\n",l.createElement(a.h1,{id:"multi-query"},"Multi Query"),"\n",l.createElement(a.blockquote,null,"\n",l.createElement(a.p,null,"개떡같이 질문해도 찰떡같이 알아듣도록!"),"\n"),"\n",l.createElement(a.p,null,'사람은 질문을 할 때 굉장히 추상적으로 질문을 할 수 있습니다.\r\n예를 들어 "B 은행의 대출은 어때?" 라는 물음에는 여러가지 의미가 담길 수 있죠.\r\n하지만 입력받은 질문으로 검색하면 이에 대한 구체적인 답변을 생성할 수 없습니다.\r\n따라서 추상적인 질문에 대해 구체적인 답변을 내놓기 위해 입력받은 질문을 여러 질문으로 나누어 검색하는 방식이죠.'),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<figure class="gatsby-resp-image-figure" style="">\n    <span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 704px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 28.40909090909091%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABHklEQVR42k1Qy26DQBBbli0QQojCS6S8CkS0hxJRIcgd5UD+/4PcmU1TcRiNNLY8toUQAq+xLBvLsmB9PNA1DQ7ODv7xCClNCMOAIaXmBUGANE1xOp1gmiYMwiRhvEUcx5rABwbzPEdzuaBMYrz7PrKigOM4CMMQURRpEZ/unnfAfr+HbTtavCCebdsQ67rifr+j6z6J4GEYfjBNExISVKaiJwrOzkVDjquqQlmWlMTSTtmxUm84n8/6rgVd19WfeDPxQu766xVtlqEk5x8kJP+iGhx9UxFPSBx2lxGfdcQW5G/DMGAcR3KYwOQalKJupBZ99vTk6r5of/c95nnWlWiHW0GO1xNhut3wRREK6ov7fDnczkuwrmu0bft/+wXO+I5GO9j5VwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Multi Query"\n        title=""\n        src="/static/48137db519b62ee70cf1795e94dc3e30/5ebd7/multi_query.png"\n        srcset="/static/48137db519b62ee70cf1795e94dc3e30/06437/multi_query.png 176w,\n/static/48137db519b62ee70cf1795e94dc3e30/ba1c3/multi_query.png 352w,\n/static/48137db519b62ee70cf1795e94dc3e30/5ebd7/multi_query.png 704w,\n/static/48137db519b62ee70cf1795e94dc3e30/fd84e/multi_query.png 1056w,\n/static/48137db519b62ee70cf1795e94dc3e30/bb3ba/multi_query.png 1121w"\n        sizes="(max-width: 704px) 100vw, 704px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>\n    <figcaption class="gatsby-resp-image-figcaption">Multi Query</figcaption>\n  </figure>'}}),"\n",l.createElement(a.p,null,"먼저 사용자의 질문을 이용해서 다양한 질문을 재생성하여 이를 활용하여 검색을 진행합니다.\r\n검색된 내용을 모두 활용하여 답변을 생성하는 방식이죠."),"\n",l.createElement(a.h1,{id:"parent-document"},"Parent Document"),"\n",l.createElement(a.blockquote,null,"\n",l.createElement(a.p,null,"중요한 정보를 모두 포함해야해!"),"\n"),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<figure class="gatsby-resp-image-figure" style="">\n    <span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 704px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 63.06818181818181%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACHUlEQVR42pVTS2saURj1hc9RGUFFJz5AUiGK2KnaVFwojaLYKkVchFYQFMQiXdhazMZUaiYSNG1ddJ3+hfQHlIRCs20X3Yr7ZuPG5encG0ZMY0tz4fDduXe+853vcWUymQwS5HL5X0HuVSoVWJYFz/MUbrcbGo0GqxyyPz7+CaVSCbVaDafTCZvNBoPBQIPcIJQUcBtuRO8/QJiPIBLbBh+JifsotSxrgd1ug8PhgNVqpYQEhNxsNl8nlKKMj9+DrMVigdlshvl8DmntPn2G/f0eRqMRut0uOp0OBEHAZDJBoVCg/gqF4jrho8dP8O7DRxwcHuFNf4AD4QjD4QjCcIy7/D3s7DxEPp9HNptFLpejIGSBQICSkZJQQlILYp+3XuDL2VfROYLPp6fo7u2hVCrh4uIbUqkUqtUqbUYikUCtVqPp1+t1xONxKkqn010RMswV4Wh8TNPLZHK4vPyFk5NPaLfb9KxcLqPX64l3GRSLRfT7ffh8PgwGb6lq4r8k1Ov19ODlq9f4/uMnItFtnJ+fiTU6RKVSwXQ6RTqdRqPRQCwWQzKZRLPZBMdxaLVaVPGS0O/3IxQKwev1Qq3Rwil22uPxUJBApBwMwyz3xK7uV89oDU0mE4xGoyQXTm4Dm5t3aPTbzOjawZbmUaEkXb/5Uta9HskusfoDkR8Oh7G1FUAwGKRdXOv0vwq1Wi1cLhfs4gsgNbRYLLdO+TfVYIACPc+cWQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Parent Document"\n        title=""\n        src="/static/7916af44339e4fde892d2ee2bd5d4e1a/5ebd7/parent_document.png"\n        srcset="/static/7916af44339e4fde892d2ee2bd5d4e1a/06437/parent_document.png 176w,\n/static/7916af44339e4fde892d2ee2bd5d4e1a/ba1c3/parent_document.png 352w,\n/static/7916af44339e4fde892d2ee2bd5d4e1a/5ebd7/parent_document.png 704w,\n/static/7916af44339e4fde892d2ee2bd5d4e1a/b4098/parent_document.png 816w"\n        sizes="(max-width: 704px) 100vw, 704px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>\n    <figcaption class="gatsby-resp-image-figcaption">Parent Document</figcaption>\n  </figure>'}}),"\n",l.createElement(a.p,null,"기존에는 사용자의 질문에 대한 Chunk를 검색해서 응답을 생성하는데 넘겨주었습니다.\r\n하지만 만약 1-1의 내용과 밀접하게 관련된 내용이 1-2에도 존재하였다면, 생성된 응답은 정확하지 않을 수 있죠.\r\n따라서 1-1을 가지고 있는 페이지 전부를 넘겨 전체적인 맥락을 볼 수 있도록 하는 방법입니다."),"\n",l.createElement(a.h1,{id:"self-querying"},"Self Querying"),"\n",l.createElement(a.blockquote,null,"\n",l.createElement(a.p,null,"문서의 메타데이터를 기반으로 필터링"),"\n"),"\n",l.createElement(a.p,null,"예를 들어 평점이 9점 이상인 영화 중에서 SF 영화를 추천해달라는 질문이 들어오면 기존 RAG는 Semantic 검색을 합니다.\r\n하지만 문서 내용 중 평점이 정해지지 않은 정보들은 검색이 되지 않죠.\r\n우리가 원하는 동작은 메타데이터를 통해 평점이 9점 이상인 영화를 필터링하고, SF 영화를 또 필터링 하는 동작을 원하죠.\r\n따라서 문장에서 Query 문을 생성하여 필터링을 진행한 후 검색을 하는 방법으로 사용하는 것이죠.\r\n이 방법은 PDF와 같은 일반적인 문서보다 Excel, CSV와 같은 문서를 다룰 때 조금 더 유용할 수 있습니다."),"\n",l.createElement(a.h1,{id:"time-weighted"},"Time Weighted"),"\n",l.createElement(a.p,null,"가장 최근에 이용된 문서를 기준으로 먼저 참고하도록 하여 답변의 참신성을 유지하도록 합니다.\r\n즉, 시간이 지난 만큼 패널티를 주어 최신의 정보를 더 가져오도록 만드는 방법이죠."),"\n",l.createElement(a.div,{className:"math math-display"},l.createElement(a.span,{className:"katex-display"},l.createElement(a.span,{className:"katex"},l.createElement(a.span,{className:"katex-mathml"},l.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},l.createElement(a.semantics,null,l.createElement(a.mrow,null,l.createElement(a.mi,null,"s"),l.createElement(a.mi,null,"e"),l.createElement(a.mi,null,"m"),l.createElement(a.mi,null,"a"),l.createElement(a.mi,null,"n"),l.createElement(a.mi,null,"t"),l.createElement(a.mi,null,"i"),l.createElement(a.msub,null,l.createElement(a.mi,null,"c"),l.createElement(a.mi,null,"s")),l.createElement(a.mi,null,"i"),l.createElement(a.mi,null,"m"),l.createElement(a.mi,null,"i"),l.createElement(a.mi,null,"l"),l.createElement(a.mi,null,"i"),l.createElement(a.mi,null,"a"),l.createElement(a.mi,null,"r"),l.createElement(a.mi,null,"i"),l.createElement(a.mi,null,"t"),l.createElement(a.mi,null,"y"),l.createElement(a.mo,null,"+"),l.createElement(a.mo,{stretchy:"false"},"("),l.createElement(a.mn,null,"1.0"),l.createElement(a.mo,null,"−"),l.createElement(a.mi,null,"d"),l.createElement(a.mi,null,"e"),l.createElement(a.mi,null,"c"),l.createElement(a.mi,null,"a"),l.createElement(a.msub,null,l.createElement(a.mi,null,"y"),l.createElement(a.mi,null,"r")),l.createElement(a.mi,null,"a"),l.createElement(a.mi,null,"t"),l.createElement(a.mi,null,"e"),l.createElement(a.msup,null,l.createElement(a.mo,{stretchy:"false"},")"),l.createElement(a.mrow,null,l.createElement(a.mi,null,"d"),l.createElement(a.mi,null,"e"),l.createElement(a.mi,null,"c"),l.createElement(a.mi,null,"a"),l.createElement(a.msub,null,l.createElement(a.mi,null,"y"),l.createElement(a.mi,null,"t")),l.createElement(a.mi,null,"i"),l.createElement(a.mi,null,"m"),l.createElement(a.mi,null,"e")))),l.createElement(a.annotation,{encoding:"application/x-tex"},"semantic_similiarity + (1.0 - decay_rate) ^ {decay_time}")))),l.createElement(a.span,{className:"katex-html","aria-hidden":"true"},l.createElement(a.span,{className:"base"},l.createElement(a.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),l.createElement(a.span,{className:"mord mathnormal"},"se"),l.createElement(a.span,{className:"mord mathnormal"},"man"),l.createElement(a.span,{className:"mord mathnormal"},"t"),l.createElement(a.span,{className:"mord mathnormal"},"i"),l.createElement(a.span,{className:"mord"},l.createElement(a.span,{className:"mord mathnormal"},"c"),l.createElement(a.span,{className:"msupsub"},l.createElement(a.span,{className:"vlist-t vlist-t2"},l.createElement(a.span,{className:"vlist-r"},l.createElement(a.span,{className:"vlist",style:{height:"0.1514em"}},l.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},l.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(a.span,{className:"mord mathnormal mtight"},"s")))),l.createElement(a.span,{className:"vlist-s"},"​")),l.createElement(a.span,{className:"vlist-r"},l.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},l.createElement(a.span)))))),l.createElement(a.span,{className:"mord mathnormal"},"imi"),l.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"}},"l"),l.createElement(a.span,{className:"mord mathnormal"},"ia"),l.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),l.createElement(a.span,{className:"mord mathnormal"},"i"),l.createElement(a.span,{className:"mord mathnormal"},"t"),l.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"y"),l.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),l.createElement(a.span,{className:"mbin"},"+"),l.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),l.createElement(a.span,{className:"base"},l.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),l.createElement(a.span,{className:"mopen"},"("),l.createElement(a.span,{className:"mord"},"1.0"),l.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),l.createElement(a.span,{className:"mbin"},"−"),l.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),l.createElement(a.span,{className:"base"},l.createElement(a.span,{className:"strut",style:{height:"1.1491em",verticalAlign:"-0.25em"}}),l.createElement(a.span,{className:"mord mathnormal"},"d"),l.createElement(a.span,{className:"mord mathnormal"},"ec"),l.createElement(a.span,{className:"mord mathnormal"},"a"),l.createElement(a.span,{className:"mord"},l.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"y"),l.createElement(a.span,{className:"msupsub"},l.createElement(a.span,{className:"vlist-t vlist-t2"},l.createElement(a.span,{className:"vlist-r"},l.createElement(a.span,{className:"vlist",style:{height:"0.1514em"}},l.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},l.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.02778em"}},"r")))),l.createElement(a.span,{className:"vlist-s"},"​")),l.createElement(a.span,{className:"vlist-r"},l.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},l.createElement(a.span)))))),l.createElement(a.span,{className:"mord mathnormal"},"a"),l.createElement(a.span,{className:"mord mathnormal"},"t"),l.createElement(a.span,{className:"mord mathnormal"},"e"),l.createElement(a.span,{className:"mclose"},l.createElement(a.span,{className:"mclose"},")"),l.createElement(a.span,{className:"msupsub"},l.createElement(a.span,{className:"vlist-t"},l.createElement(a.span,{className:"vlist-r"},l.createElement(a.span,{className:"vlist",style:{height:"0.8991em"}},l.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},l.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),l.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},l.createElement(a.span,{className:"mord mtight"},l.createElement(a.span,{className:"mord mathnormal mtight"},"d"),l.createElement(a.span,{className:"mord mathnormal mtight"},"ec"),l.createElement(a.span,{className:"mord mathnormal mtight"},"a"),l.createElement(a.span,{className:"mord mtight"},l.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"y"),l.createElement(a.span,{className:"msupsub"},l.createElement(a.span,{className:"vlist-t vlist-t2"},l.createElement(a.span,{className:"vlist-r"},l.createElement(a.span,{className:"vlist",style:{height:"0.2963em"}},l.createElement(a.span,{style:{top:"-2.357em",marginLeft:"-0.0359em",marginRight:"0.0714em"}},l.createElement(a.span,{className:"pstrut",style:{height:"2.5em"}}),l.createElement(a.span,{className:"sizing reset-size3 size1 mtight"},l.createElement(a.span,{className:"mord mathnormal mtight"},"t")))),l.createElement(a.span,{className:"vlist-s"},"​")),l.createElement(a.span,{className:"vlist-r"},l.createElement(a.span,{className:"vlist",style:{height:"0.143em"}},l.createElement(a.span)))))),l.createElement(a.span,{className:"mord mathnormal mtight"},"im"),l.createElement(a.span,{className:"mord mathnormal mtight"},"e")))))))))))))),"\n",l.createElement(a.h1,{id:"ensemble-retriever"},"Ensemble Retriever"),"\n",l.createElement(a.p,null,"Retriever 에는 크게 두 가지 종류가 있습니다."),"\n",l.createElement(a.h3,{id:"sparse-retriever"},"Sparse Retriever"),"\n",l.createElement(a.p,null,"각 단어가 문서에서 몇번씩 출현했는지를 이용하여 검색을 진행하는 방법입니다.\r\n단어를 기반으로 검색하다 보니 도메인에 상관 없이 빠르고 간편하게 사용할 수 있죠.\r\n하지만 단순 단어 기반으로 검색을 진행하기 떄문에 맥락을 이해하지 못합니다."),"\n",l.createElement(a.h3,{id:"dense-retriever"},"Dense Retriever"),"\n",l.createElement(a.p,null,"문서를 딥러닝 모델에 통과시켜 벡터의 형태로 저장합니다.\r\n또한 질문을 벡터의 형태로 만들어 벡터를 이용해 검색을 진행합니다.\r\n이는 Semantic 정보를 이용한 검색을 진행할 수 있기 때문에 검색의 품질이 우수합니다.\r\n하지만 종종 필수적인 키워드가 무시되는 경향이 있습니다."),"\n",l.createElement(a.p,null,"그렇다면 위 두 방법을 함께 적용하면 서로 단점을 보완하는 방법입니다."),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<figure class="gatsby-resp-image-figure" style="">\n    <span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 704px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 52.27272727272727%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB10lEQVR42mWSz27TQBDG8xqRqkDstXe9tuu/xE1jO2mkJsGFIkWNVNQT3OHAgUNzJAoVReIIRxC8Vp7lY2eKI5UcRrI8M7/v25nphGGIxWKB4XAIx3Hguu4+hC2QTQq8WF2imk8gYw1XOMiyzNSfIAgCUH9RFMjzHFJKdPqWgFQBhKMgxGMghy+hI59DamX+SdhCcr1tuwzxPA9KKa7vnFUJ3l5XWL08QRh4pvA/qPMQSioOap5PB7i5GoN6CdTCGLj9+By/v17gz7dXaM5zPHlqs+qBU9eBZdnIsxA/7y/x677Bj+0FfN8zjgXnGUjNo9MUSRQcuvsXVKO1ZnfSuCmeJUZ8iCwJ2V2bYyANs6pqDAYDk/AOFkPFtLDpdIokSeAYJ/V4jKqeIE1TA1Ko68owKsRxjA41RVG0V3i0ZfMUy7L4mzYa+BraAKLgGHmawVeaHfq+z8K8ZaLudjtsNht0u10Gt3DKjUYjdkLOj/oSR0Kjub3Gzfd3mH242s/baZdCzev1Gsvl0pyBzU5IjZI0jqZpzHPPEMYp3s/6WK+M0JcGwXaO5HNjZiofLqEFknKv12MHrXUevlGmAx6beZVlidOyxuvSwpu5i/BuAe/uHMefZgfAv/0bPr2pKR+bAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Ensemble Retriever"\n        title=""\n        src="/static/f1bed8a3a1c2abd5f788fadfe495396f/5ebd7/ensemble_retriever.png"\n        srcset="/static/f1bed8a3a1c2abd5f788fadfe495396f/06437/ensemble_retriever.png 176w,\n/static/f1bed8a3a1c2abd5f788fadfe495396f/ba1c3/ensemble_retriever.png 352w,\n/static/f1bed8a3a1c2abd5f788fadfe495396f/5ebd7/ensemble_retriever.png 704w,\n/static/f1bed8a3a1c2abd5f788fadfe495396f/709cb/ensemble_retriever.png 1034w"\n        sizes="(max-width: 704px) 100vw, 704px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>\n    <figcaption class="gatsby-resp-image-figcaption">Ensemble Retriever</figcaption>\n  </figure>'}}),"\n",l.createElement(a.p,null,"대표적인 방식으로 BM25 와 FAISS 를 결합하여 검색을 진행할 수 있습니다.\r\n하지만 Vector 검색은 0~1 사이로 맵핑할 수 있지만, BM25와 같은 방식은 점수에 제한이 없는 방법입니다.\r\n따라서 서로 다른 관련성 지표를 가진 여러 개의 결과 집합을 하나의 결과 집합으로 결합하는 ",l.createElement(a.code,null,"RRF(Reciprocal Rank Fusion)")," 방식이 필요합니다."),"\n",l.createElement(a.h1,{id:"long-context-reorder"},"Long Context Reorder"),"\n",l.createElement(a.p,null,l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span class="link-preview-container">\n            \n    <a target="_blank" rel="noopener noreferrer" href="https://arxiv.org/pdf/2307.03172.pdf">\n        Lost in the Middle: How Language Models Use Long Contexts\n    </a>\n            \n            <img\n                loading="lazy"\n                decoding="async"\n                alt="site preview image"\n                src="/static/64ca70bd21adf40f16f39fbf33881703/4cda9/2c65e4c3.jpg"\n                srcset="/static/64ca70bd21adf40f16f39fbf33881703/4cda9/2c65e4c3.jpg 1x,\n/static/64ca70bd21adf40f16f39fbf33881703/3ad8d/2c65e4c3.jpg 1.5x,\n/static/64ca70bd21adf40f16f39fbf33881703/c60e9/2c65e4c3.jpg 2x"\n                style="background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABkCAf/8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQABBQJf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQABPyFf/9oADAMBAAIAAwAAABAMP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEAAT8QX//Z\'); background-size: cover;"\n            />\n            \n        </span>'}})," 논문에 따르면 질문에 대한 응답을 생성할 때,\r\n필요한 정보를 초반과 후반에 배치하면 좋은 응답을 생성하는 반면 중간에 배치한 경우는 응답의 성능이 약간 떨어지는 것을 확인할 수 있다고 합니다."),"\n",l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 704px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 93.75%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAB2HAAAdhwGP5fFlAAACy0lEQVR42nVUh3LiMBDN/39ayhx3BEKCu42b5CZ3jHm3ksCQ5pk3W7xeb3/A5Tmfzws9Hkf0fb/QYRgwjiNB02k6Kir10zTh/nm4F6bjCV3Xw/N8fHwYsCwbhmFivzfhOC7xFkzTUryWTYRhhNNpxjyfbw7btkVZFbBNDsfiKIoOed4iyxqCpleZcw2t1zrGBJpmuDk8nU6YThPiuIJlMDKokaZCIUkqReVHV52W6zu5Ql1/cdj3A6qqw36XKCPOa4J2JCHlK/9d/uJQiIpCz5TSNhkCv1Apyiiu0A7u5eaTvDgsy5IKGyqhLFv4fq7SlrX5PcXPckKorzUUQmCz2agIheiVofGeXIpfL9AN+VmWadd1rx3meY4oipSQ59rIuqQt+ST5PUL5LstqrFcBklhoh3Jw4zimhghKuQOnvwVersZHpU0fMdkkWatULOBMN834SOA5GY3eXVO6rqOQG1RiAJNzRXiX3WY0b7I5Mj2p55pKXU4/N/eMlqBARnPbNOPN4TzPaoWykCOyYyRegu2zRTDgvgcI7Qg8ZEofER+YIb0zYW89pH6K0AohcnFzWFVyeFOUNE+xlyJyE2RRjsRnsN4CvP1xsH1xYLz62K00v1/7YAeu7FOya6rm+y633YB+mGhrzrSKLYZxwiz1/RGey2g06DCcgIbs6qbDeJwxTjOKskHX39Xwemksy0IQBKqmlmnC9zy15wVNwmazpiYw2qgOrutgvV7TuwY1jd3bdrvM8iVC7bAochwOPoLDgfiCxiJRP5BUXhXOOTXBUzMrSyT1B7J1XVeds7sItVs5JuY+ozHKKFqPPg4VHMdXMAybHMR0whySAwXb9mkh2s/38JpyemBwNh52OwuPjytK08BqtcXLy5rwiqenv6Tbq3fPz/+ULGEY7s8Htm87tEJuS0EpyquTUVoSXPFRlCqaptTdmC3gPF8c/gcDmZ2pq0WP2gAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="lost in the middle"\n        title=""\n        src="/static/4288a00034372e8ebf21bfb19bdc1607/5ebd7/lost_in_the_middle.png"\n        srcset="/static/4288a00034372e8ebf21bfb19bdc1607/06437/lost_in_the_middle.png 176w,\n/static/4288a00034372e8ebf21bfb19bdc1607/ba1c3/lost_in_the_middle.png 352w,\n/static/4288a00034372e8ebf21bfb19bdc1607/5ebd7/lost_in_the_middle.png 704w,\n/static/4288a00034372e8ebf21bfb19bdc1607/d2cbc/lost_in_the_middle.png 705w"\n        sizes="(max-width: 704px) 100vw, 704px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",l.createElement(a.p,null,"따라서 우리가 검색을 이용해 제공하려는 정보가 중요한 순서대로 배치하는 것이 아닌 중요한 문서는 초반과 후반에 배치시키는 것이 더 좋다는 의미가 됩니다.\r\n이를 이용하여 조금 더 정확한 답변을 생성할 수 있겠죠."),"\n",l.createElement(a.h1,{id:"reference"},"Reference"),"\n",l.createElement(a.p,null,"해당 문서는 아래와 같은 정보를 참고하여 제작하였어요."),"\n",l.createElement("p",{style:{textAlign:"center"}},l.createElement(a.p,null,l.createElement(a.span,{dangerouslySetInnerHTML:{__html:'\n        <div class="embedVideo-container">\n            <iframe\n              title=""\n              width="560"\n              height="316"\n              src="https://www.youtube.com/embed/J2AsmUODBak?rel=0"\n              class="embedVideo-iframe"\n              style="border:0"\n              \n              \n              loading="eager"\n              allowfullscreen\n\t      sandbox="allow-same-origin allow-scripts allow-popups"\n            ></iframe>\n        </div>'}}),"\r\n",l.createElement(a.code,null,"실전! RAG 고급 기법 - Retriever"))))}var m=function(e){void 0===e&&(e={});const{wrapper:a}=Object.assign({},(0,n.ah)(),e.components);return a?l.createElement(a,e,l.createElement(s,e)):s(e)},i=t(4316),r=t(1840),c=t(7821),A=t(2654),o=t(4111),p=t(2726),d=t(4480),g=t(2818),u=t(9213),h=t(7213),b=t(9265),E=t(9601),f=t(3071),y=t(6097),w=t(6782),N=t(4891),v=t(3387),R=t(917);const x=e=>{let{data:{mdx:a},children:t}=e;const s=(0,d.sJ)((0,g.cp)(g.eE,!1)),m=(0,d.sJ)((0,g.cp)(g.rf,!1)),i=(0,d.Zl)((0,g.cp)(g.Cy,a.tableOfContents.items));return(0,l.useEffect)((()=>{i(a.tableOfContents.items)}),[a]),(0,R.tZ)(r.Z,null,(0,R.tZ)(B,null,(0,R.tZ)(o.Z,null)),(0,R.tZ)(k,null,(0,R.tZ)(Q,{className:"navigation",isNavOpened:m},(0,R.tZ)(z,{className:"hide_scroll"},(0,R.tZ)(c.Z,null))),(0,R.tZ)(C,{isNavOpened:m},(0,R.tZ)(j,{isWide:s},(0,R.tZ)(p.Z,{title:a.frontmatter.title,date:a.frontmatter.date}),(0,R.tZ)(n.Zo,{components:{p:h.Z,h1:b.H1,h2:b.H2,h3:b.H3,h4:b.H4,h5:b.H5,h6:b.H6,hr:E.Z,blockquote:f.Z,ul:w.Z,ol:y.Z,pre:N.Z,code:v.Z}},t))),(0,R.tZ)(P,null,(0,R.tZ)(q,null,(0,R.tZ)(A.Z,null)))))},B=(0,i.Z)("div",{target:"e1ojob7j7"})({name:"11t2x7x",styles:"display:flex;height:var(--header-height);z-index:5;padding:0.6rem 2rem 0.6rem 0.6rem;position:fixed;width:100%;background:var(--background-color);border-bottom:1px solid var(--border-color)"}),k=(0,i.Z)("div",{target:"e1ojob7j6"})({name:"majwgz",styles:"position:relative;display:flex;min-height:calc(100vh - var(--header-height));overflow-x:hidden"}),Q=(0,i.Z)("aside",{target:"e1ojob7j5"})("margin-left:",(e=>e.isNavOpened?"0":"calc(-1 * var(--sidebar-width))"),";flex:0 0 var(--sidebar-width);font-size:0.875rem;overflow-x:hidden;overflow-y:auto;transition:margin 0.25s var(--ease-in-out-quad);@media (min-width: ",u.Z.IPAD_PRO,"px){margin-left:0;}"),z=(0,i.Z)("nav",{target:"e1ojob7j4"})({name:"l4vzaw",styles:"overflow-y:auto;height:100%;padding:var(--body-padding-top) 0 3rem 0;position:fixed;width:var(--sidebar-width);&:-webkit-scrollbar{display:none;}"}),j=(0,i.Z)("main",{target:"e1ojob7j3"})("padding:1rem;width:100%;@media (min-width: ",u.Z.IPAD_AIR,"px){width:",(e=>e.isWide?"90%":"65%"),";}"),C=(0,i.Z)("main",{target:"e1ojob7j2"})("width:calc(100% - 2 * var(--sidebar-width));padding-top:var(--body-padding-top);flex-grow:1;min-width:20rem;display:flex;justify-content:center;opacity:",(e=>e.isNavOpened?.3:1),";@media (min-width: ",u.Z.IPAD_PRO,"px){opacity:1;}"),P=(0,i.Z)("aside",{target:"e1ojob7j1"})("font-size:0.75rem;font-weight:bold;overflow-x:hidden;overflow-y:auto;padding-top:var(--body-padding-top);width:0;transition:width 0.25s var(--ease-in-out-quad);@media (min-width: ",u.Z.HD,"px){width:var(--sidebar-width);}"),q=(0,i.Z)(z,{target:"e1ojob7j0"})({name:"b40oxt",styles:"padding:0 1rem 0 1rem"});function I(e){return l.createElement(x,e,l.createElement(m,e))}}}]);
//# sourceMappingURL=component---src-components-templates-main-template-tsx-content-file-path-contents-ai-rag-실전rag-실전rag-mdx-9201471e775b326f465a.js.map