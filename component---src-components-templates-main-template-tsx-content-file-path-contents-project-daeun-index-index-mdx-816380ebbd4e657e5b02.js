"use strict";(self.webpackChunkyeti_docs=self.webpackChunkyeti_docs||[]).push([[5825],{1698:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var a=n(1151),i=n(7294),l=n(2439);function o(e){const t=Object.assign({hr:"hr",blockquote:"blockquote",p:"p",h1:"h1",span:"span",code:"code",h3:"h3"},(0,a.ah)(),e.components);return l||d("Elem",!1),l.Cols||d("Elem.Cols",!0),l.Project||d("Elem.Project",!0),l.TwoCols||d("Elem.TwoCols",!0),i.createElement(i.Fragment,null,i.createElement(l.Project,{members:"개인",domain:["LLM","Voice"],roles:["ALL"],tools:["vLLM","LangChain"],schedule:"24년 3월 1일 ~ "}),"\n",i.createElement(t.hr),"\n",i.createElement(t.blockquote,null,"\n",i.createElement(t.p,null,"대화를 주고받고, 집안의 기기들을 제어하기 위한 시스템 다은👩🏻‍💼을 구축하는 초초초장기 프로젝트입니다."),"\n"),"\n",i.createElement(t.h1,{id:"-프로젝트-목표"},"🚩 프로젝트 목표"),"\n",i.createElement(l.TwoCols,{align:"center"},i.createElement(l.Cols,{size:40},i.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 704px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/webp;base64,UklGRgIBAABXRUJQVlA4IPYAAABQBQCdASoUABQAPtFgqE+oJSOiKAgBABoJQBhQO4Fu0lYUQx+sgKyONnXYk1eSDoAnwAAA/vOvEoTwq0tYF1IRhiiEQuE3vJwd47sd48ckj7PhSVOMzvBehhFHR/l8IpUNDcfKCtqcmcDUoypgPv0Gl+Q+usVuFi14HL0r+vTp8/++xiJVrpMiCinjuUB5VcWvs/T5TWuIcLY37QVvoY1+5LWgO3LtFF5PY5fXUakiIfr04qDhMthsvUzyBwD6aU6nIJeuwvJRcx2KWeT+J/r2rJY4CHtAM/8TxbNVF/KS3ooMlMZmQsQQ3U7MU1hdMkQA02KAAAA=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="thumnail"\n        title=""\n        src="/static/2af9b14faf87271a6bb0420c7d7e3de2/9a172/thumnail.webp"\n        srcset="/static/2af9b14faf87271a6bb0420c7d7e3de2/eb777/thumnail.webp 176w,\n/static/2af9b14faf87271a6bb0420c7d7e3de2/edd59/thumnail.webp 352w,\n/static/2af9b14faf87271a6bb0420c7d7e3de2/9a172/thumnail.webp 704w,\n/static/2af9b14faf87271a6bb0420c7d7e3de2/a9a89/thumnail.webp 1024w"\n        sizes="(max-width: 704px) 100vw, 704px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}})),i.createElement(l.Cols,{size:50},i.createElement(t.p,null,"때로는 쓸데없는 이야기를 나누고, 때로는 나와 감정을 공유하며, 때로는 궁금한 것을 물어보는 친구와 같은 챗봇을 구축합니다."),i.createElement(t.p,null,"음성으로 입력을 주고, 음성으로 대답을 받도록 설계하여 대화하는 것과 같은 느낌을 주려고 합니다."),i.createElement(t.p,null,"또한 단순히 대화를 주고 받는 것만이 아닌, IoT 기기와 연결하여 다양한 장비를 말로 조작할 수 있도록 합니다."))),"\n",i.createElement(t.h1,{id:"️-개발-내용"},"✏️ 개발 내용"),"\n",i.createElement(t.p,null,"기존의 진행했던 프로젝트 ",i.createElement(t.code,null,"허밍버드"),"의 구조를 가져와서 대화를 주고받는 시스템의 기본 설계를 가져갈 생각입니다.\r\n물론 필요에 따라 추가하거나 변경하는 부분이 많이 있을 것 같아요."),"\n",i.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 704px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 53.97727272727273%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABeElEQVR42oWTW0/bQBCF/f/7N+CFt4KglSpuKVUvqSC8QaAQpdBc7MRx1o699no/Zm1ZqpOmGWk0653Zs2fOrD22mCkh07aKo3HAeOKzy6y1eJubdZzO4eMX+HAF789yOl3dyrcuN4Yg8EnieBOwscJAklqWMajErf/NyJmKZhycLulcv+DZ/7SQ56kAalYrx85uADVx9GdItzfk12CMl0rtfAF+CDoX3TJNWVrmEQShZRKIz+qYST5cLIiiJZEwn84ELCjpP4XSUVFd6t3cwdElfPpGBeL7qhrGyWc4vKg1dFrun8DgVWpCJZ7gzp3/kHNfoXfvdKQGFDLYVps5WmekWUGWrsQTYWyEufNCcrqqWR9iY956wukSxwol2i1VjlJKALR8Z7JeSb5sgTW+Afh3lcv3+zOK6W09cZHnZVJLAu2O1q0FWBeWuJkeHXzH3L6rduaRYe+4oPOz3PoWtzN0D1UoPT8/8vD0W9YGI5dEyYIi1zv/ljcP4VbZb4pCpAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="pipeline"\n        title=""\n        src="/static/ec1ade8f597a7e078757dae67f8c0490/5ebd7/pipeline.png"\n        srcset="/static/ec1ade8f597a7e078757dae67f8c0490/06437/pipeline.png 176w,\n/static/ec1ade8f597a7e078757dae67f8c0490/ba1c3/pipeline.png 352w,\n/static/ec1ade8f597a7e078757dae67f8c0490/5ebd7/pipeline.png 704w,\n/static/ec1ade8f597a7e078757dae67f8c0490/fd84e/pipeline.png 1056w,\n/static/ec1ade8f597a7e078757dae67f8c0490/061c7/pipeline.png 1216w"\n        sizes="(max-width: 704px) 100vw, 704px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",i.createElement(t.h3,{id:"부족한-자원으로-llm-학습-및-추론하기"},"부족한 자원으로 LLM 학습 및 추론하기"),"\n",i.createElement(t.p,null,"기존 ",i.createElement(t.code,null,"허밍버드"),"는 시간적 여유가 부족하여 모든 모델을 학습되어 있거나, GPT API를 이용하여 응답을 생성하였습니다.\r\n하지만 ",i.createElement(t.code,null,"다은"),"은 컴퓨터에 자체적으로 LLM을 구축하여 응답을 생성하고, 또 요약까지 해주는 작업을 수행하도록 할 계획입니다.\r\n제 컴퓨터는 RTX 3060 12GB GPU를 가지고 있는데, Mistral-7B(28GB) 모델을 학습은 커녕 추론도 불가능한 상황입니다.\r\n따라서 적은 자원으로 학습할 수 있는 방법을 찾아야 합니다."),"\n",i.createElement(t.p,null,i.createElement(t.code,null,"LoRA"),"는 기존 모델을 freeze 한 상태로 row-lank adapter를 붙여 적은 파라미터의 학습으로 fine-tuning을 진행하는 방식입니다.\r\n여기에 기존 모델을 quantization 후 adapter를 붙이는 ",i.createElement(t.code,null,"QLoRA")," 방식으로 기존 대비 아주 적은 메모리로 학습을 진행할 수 있어요.\r\n12GB GPU로 Mistral-7B 를 4bit quantization을 진행한 후 adapter를 붙여 최대 2048 토큰의 데이터까지 학습을 진행할 수 있었습니다.\r\n또한 학습된 모델을 ",i.createElement(t.code,null,"vLLM"),"을 이용하여 최적화된 추론으로 빠른 응답을 생성할 수 있었어요."),"\n",i.createElement(t.h3,{id:"지금-요청-어떤-명령이지"},"지금 요청 어떤 명령이지?"),"\n",i.createElement(t.p,null,i.createElement(t.code,null,"다은"),"은 ",i.createElement(t.code,null,"허밍버드"),"와 다르게 사용자의 요청이 들어오자마자 embedding을 진행합니다.\r\n이를 기존에 각 작업에 대한 예상 명령들과 비교하여 가장 유사한 명령을 찾아냅니다.\r\n이를 통해 사용자의 요청이 어떠한 작업을 의미하는 것인지 쉽게 파악할 수 있죠."),"\n",i.createElement(t.p,null,"이는 확장성의 측면에서도 아주 유리합니다.\r\n작업을 추가하더라도 새롭게 학습하지 않아도 된다는 장점을 가지고 있죠."),"\n",i.createElement(t.h1,{id:"-결과"},"📷 결과"),"\n",i.createElement(t.h1,{id:"-느낀점"},"🤔 느낀점"))}var r=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,a.ah)(),e.components);return t?i.createElement(t,e,i.createElement(o,e)):o(e)};function d(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}var c=n(4316),s=n(1840),p=n(7821),m=n(2654),g=n(4111),u=n(2726),h=n(4480),b=n(2818),f=n(9213),w=n(7213),A=n(9265),v=n(9601),E=n(3071),y=n(6097),Z=n(6782),k=n(4891),x=n(3387),j=n(917);const C=e=>{let{data:{mdx:t},children:n}=e;const l=(0,h.sJ)((0,b.cp)(b.eE,!1)),o=(0,h.sJ)((0,b.cp)(b.rf,!1)),r=(0,h.Zl)((0,b.cp)(b.Cy,t.tableOfContents.items));return(0,i.useEffect)((()=>{r(t.tableOfContents.items)}),[t]),(0,j.tZ)(s.Z,null,(0,j.tZ)(L,null,(0,j.tZ)(g.Z,null)),(0,j.tZ)(z,null,(0,j.tZ)(B,{className:"navigation",isNavOpened:o},(0,j.tZ)(O,{className:"hide_scroll"},(0,j.tZ)(p.Z,null))),(0,j.tZ)(Q,{isNavOpened:o},(0,j.tZ)(W,{isWide:l},(0,j.tZ)(u.Z,{title:t.frontmatter.title,date:t.frontmatter.date}),(0,j.tZ)(a.Zo,{components:{p:w.Z,h1:A.H1,h2:A.H2,h3:A.H3,h4:A.H4,h5:A.H5,h6:A.H6,hr:v.Z,blockquote:E.Z,ul:Z.Z,ol:y.Z,pre:k.Z,code:x.Z}},n))),(0,j.tZ)(J,null,(0,j.tZ)(P,null,(0,j.tZ)(m.Z,null)))))},L=(0,c.Z)("div",{target:"e1ojob7j7"})({name:"11t2x7x",styles:"display:flex;height:var(--header-height);z-index:5;padding:0.6rem 2rem 0.6rem 0.6rem;position:fixed;width:100%;background:var(--background-color);border-bottom:1px solid var(--border-color)"}),z=(0,c.Z)("div",{target:"e1ojob7j6"})({name:"majwgz",styles:"position:relative;display:flex;min-height:calc(100vh - var(--header-height));overflow-x:hidden"}),B=(0,c.Z)("aside",{target:"e1ojob7j5"})("margin-left:",(e=>e.isNavOpened?"0":"calc(-1 * var(--sidebar-width))"),";flex:0 0 var(--sidebar-width);font-size:0.875rem;overflow-x:hidden;overflow-y:auto;transition:margin 0.25s var(--ease-in-out-quad);@media (min-width: ",f.Z.IPAD_PRO,"px){margin-left:0;}"),O=(0,c.Z)("nav",{target:"e1ojob7j4"})({name:"l4vzaw",styles:"overflow-y:auto;height:100%;padding:var(--body-padding-top) 0 3rem 0;position:fixed;width:var(--sidebar-width);&:-webkit-scrollbar{display:none;}"}),W=(0,c.Z)("main",{target:"e1ojob7j3"})("padding:1rem;width:100%;@media (min-width: ",f.Z.IPAD_AIR,"px){width:",(e=>e.isWide?"90%":"65%"),";}"),Q=(0,c.Z)("main",{target:"e1ojob7j2"})("width:calc(100% - 2 * var(--sidebar-width));padding-top:var(--body-padding-top);flex-grow:1;min-width:20rem;display:flex;justify-content:center;opacity:",(e=>e.isNavOpened?.3:1),";@media (min-width: ",f.Z.IPAD_PRO,"px){opacity:1;}"),J=(0,c.Z)("aside",{target:"e1ojob7j1"})("font-size:0.75rem;font-weight:bold;overflow-x:hidden;overflow-y:auto;padding-top:var(--body-padding-top);width:0;transition:width 0.25s var(--ease-in-out-quad);@media (min-width: ",f.Z.HD,"px){width:var(--sidebar-width);}"),P=(0,c.Z)(O,{target:"e1ojob7j0"})({name:"b40oxt",styles:"padding:0 1rem 0 1rem"});function M(e){return i.createElement(C,e,i.createElement(r,e))}}}]);
//# sourceMappingURL=component---src-components-templates-main-template-tsx-content-file-path-contents-project-daeun-index-index-mdx-816380ebbd4e657e5b02.js.map