"use strict";(self.webpackChunkyeti_docs=self.webpackChunkyeti_docs||[]).push([[9073],{8413:function(e,a,t){var m=t(1151),s=t(7294),l=t(3832);function n(e){const a=Object.assign({p:"p",a:"a",h1:"h1",ul:"ul",li:"li",br:"br",h2:"h2",div:"div",span:"span",math:"math",semantics:"semantics",mtable:"mtable",mtr:"mtr",mtd:"mtd",mrow:"mrow",mi:"mi",mo:"mo",mtext:"mtext",annotation:"annotation",msub:"msub",mn:"mn",msup:"msup",munderover:"munderover",mfrac:"mfrac",mover:"mover",mspace:"mspace",msqrt:"msqrt",msubsup:"msubsup",svg:"svg",path:"path"},(0,m.ah)(),e.components);return s.createElement(s.Fragment,null,s.createElement(a.p,null,s.createElement(a.a,{href:"https://arxiv.org/pdf/1712.05877.pdf"},"Quantization and Training of Neural Networks for Efficient Integer-Arithmetic-Only Inference")," 논문을 바탕으로 작성하였습니다."),"\n",s.createElement(a.h1,{id:"introduction"},"Introduction"),"\n",s.createElement(a.p,null,"최근 SOTA를 달성하는 CNN 모델 구조는 복잡도와 연산 효율을 고려하지 않고 높은 정확도를 가지도록 발전해왔어요.\r\n이는 스마트폰, 드론과 같은 자원이 한정된 모바일 플랫폼에 적합하지 않아요.\r\n그래서 최소한의 정확도 하락으로 모델 사이즈와 추론 속도를 감소시키는 방법이 주목받고 있어요."),"\n",s.createElement(a.p,null,"간단하게 생각하면 이를 위해 두 가지 접근법이 있네요."),"\n",s.createElement(a.ul,null,"\n",s.createElement(a.li,null,"\n",s.createElement(a.p,null,"MobileNet, SqueezeNet, ShuffleNet, 그리고 DenseNet과 같은 메모리, 연산 효율적인 모델 구조를 디자인 하는 방법.",s.createElement(a.br),"\n","이 방법은 합리적인 측정 기준이 정해지지 않았어요.\r\nAlexNet, VGG, 그리고 GoogleNet과 같은 모델은 이미 적은 성능 향상을 위해 과도한 파라미터를 사용하기 때문에, 모델 사이즈를 줄이는 것은 어렵지 않습니다.\r\n이미 연산량과 정확도 사이 trade-off 관계를 가지는 MobileNet과 같은 모델을 quantization 하는 것이 의미있는 도전이겠죠?"),"\n"),"\n",s.createElement(a.li,null,"\n",s.createElement(a.p,null,"모델의 weight, activation 등을 float32 연상에서 더 낮은 비트로 quantization 하는 방법.",s.createElement(a.br),"\n","많은 quantization 접근 방법은 실제 하드웨어에서 효율적인 향상을 보이지는 않더라구요.\r\nweight만을 quantize하여 모델 사이즈를 줄이지만 연산 효율은 증가하지 않는다던가,\r\n곱셈을 bit shift 연산으로 할 수 있게 하지만 하드웨어에서 별다른 이점이 되지 않는다던가.\r\n특히 곱셈은 큰 bit의 연산을 수행할 때만 비용이 많이 들어요.\r\n따라서 activation과 weight를 모두 quantization 하면 낮은 비트의 연산으로 곱셈을 피하지 않아도 됩니다."),"\n"),"\n"),"\n",s.createElement(a.p,null,"이 논문에서 MobileNet을 이용하여 위에서 언급한 내용들을 다루는 quantization 방법을 다루겠습니다."),"\n",s.createElement(a.h1,{id:"quantization-scheme"},"Quantization Scheme"),"\n",s.createElement(a.h2,{id:"integer-arithmetic-only-matrix-multiplication"},"Integer-arithmetic-only matrix multiplication"),"\n",s.createElement(a.p,null,"우리는 float32로 학습하고 integer만을 사용한 연산으로 추론하는 quantization 계획을 세울 것입니다."),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mtable,{width:"100%"},s.createElement(a.mtr,null,s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"r"),s.createElement(a.mo,null,"="),s.createElement(a.mi,null,"S"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"q"),s.createElement(a.mo,null,"−"),s.createElement(a.mi,null,"Z"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mtext,null,"(1)")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"r = S(q-Z) \\tag{1}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.4306em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"−"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"Z"),s.createElement(a.span,{className:"mclose"},")")),s.createElement(a.span,{className:"tag"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord text"},s.createElement(a.span,{className:"mord"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},"1")),s.createElement(a.span,{className:"mord"},")"))))))),"\n",s.createElement(a.p,null,"실제값 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"r")),s.createElement(a.annotation,{encoding:"application/x-tex"},"r")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.4306em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"))))),"을 int8로 quantize한다고 생각합시다.\r\n여기서 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"q")),s.createElement(a.annotation,{encoding:"application/x-tex"},"q")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"))))),"는 quantized된 값, ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"S")),s.createElement(a.annotation,{encoding:"application/x-tex"},"S")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"))))),"와 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"Z")),s.createElement(a.annotation,{encoding:"application/x-tex"},"Z")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"Z"))))),"는 각각 scale, zero point로 quantization paramter입니다.\r\n우리는 각각의 tensor(activation, weight 등)에 대해서 각각의 quantization parameter를 사용할 거에요."),"\n",s.createElement(a.p,null,"우리는 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"N"),s.createElement(a.mo,null,"×"),s.createElement(a.mi,null,"N")),s.createElement(a.annotation,{encoding:"application/x-tex"},"N \\times N")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.7667em",verticalAlign:"-0.0833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"N"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"×"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"N")))))," 형태의 행렬인 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"r"),s.createElement(a.mn,null,"1")),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.msub,null,s.createElement(a.mi,null,"r"),s.createElement(a.mn,null,"2"))),s.createElement(a.annotation,{encoding:"application/x-tex"},"r_1, r_2")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))))))),"의 곱 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"r"),s.createElement(a.mn,null,"3")),s.createElement(a.mo,null,"="),s.createElement(a.msub,null,s.createElement(a.mi,null,"r"),s.createElement(a.mn,null,"1")),s.createElement(a.msub,null,s.createElement(a.mi,null,"r"),s.createElement(a.mn,null,"2"))),s.createElement(a.annotation,{encoding:"application/x-tex"},"r_3=r_1r_2")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"3")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))))))),"인 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"r"),s.createElement(a.mn,null,"3"))),s.createElement(a.annotation,{encoding:"application/x-tex"},"r_3")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"3")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))))))),"를 위와 같은 식을 이용해 표현한다고 생각 해봅시다.\r\n",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"r"),s.createElement(a.mi,null,"α")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"i"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"j"),s.createElement(a.mo,{stretchy:"false"},")")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"{r_{\\alpha}}^{(i,j)}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.038em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.1514em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.0037em"}},"α"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.888em"}},s.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight"},"i"),s.createElement(a.span,{className:"mpunct mtight"},","),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))))))),"는 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"r"),s.createElement(a.mi,null,"α"))),s.createElement(a.annotation,{encoding:"application/x-tex"},"r_\\alpha")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.1514em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.0037em"}},"α")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))))))),"의 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"i")),s.createElement(a.annotation,{encoding:"application/x-tex"},"i")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6595em"}}),s.createElement(a.span,{className:"mord mathnormal"},"i"))))),"행 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"j")),s.createElement(a.annotation,{encoding:"application/x-tex"},"j")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.854em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.05724em"}},"j"))))),"열이라 정의하고 식을 다시 정리 해보죠."),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mtable,{width:"100%"},s.createElement(a.mtr,null,s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mrow,null,s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"r"),s.createElement(a.mi,null,"α")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"i"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"j"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mo,null,"="),s.createElement(a.msub,null,s.createElement(a.mi,null,"S"),s.createElement(a.mi,null,"α")),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"q"),s.createElement(a.mi,null,"α")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"i"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"j"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mo,null,"−"),s.createElement(a.msub,null,s.createElement(a.mi,null,"Z"),s.createElement(a.mi,null,"α")),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mtext,null,"(2)")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"{r_{\\alpha}}^{(i,j)} = S_{\\alpha}({q_{\\alpha}}^{(i,j)}-Z_{\\alpha}) \\tag{2}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.088em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.1514em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.0037em"}},"α"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight"},"i"),s.createElement(a.span,{className:"mpunct mtight"},","),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.188em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.1514em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0576em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.0037em"}},"α"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.1514em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.0037em"}},"α"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight"},"i"),s.createElement(a.span,{className:"mpunct mtight"},","),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"−"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"Z"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.1514em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.0037em"}},"α"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mclose"},")")),s.createElement(a.span,{className:"tag"},s.createElement(a.span,{className:"strut",style:{height:"1.188em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord text"},s.createElement(a.span,{className:"mord"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},"2")),s.createElement(a.span,{className:"mord"},")"))))))),"\n",s.createElement(a.p,null,"그렇다면 아래처럼 표현할 수 있겠죠?"),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mtable,{width:"100%"},s.createElement(a.mtr,null,s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mrow,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"S"),s.createElement(a.mn,null,"3")),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"q"),s.createElement(a.mn,null,"3")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"i"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"j"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mo,null,"−"),s.createElement(a.msub,null,s.createElement(a.mi,null,"Z"),s.createElement(a.mn,null,"3")),s.createElement(a.mo,{stretchy:"false"},")"),s.createElement(a.mo,null,"="),s.createElement(a.munderover,null,s.createElement(a.mo,null,"∑"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"j"),s.createElement(a.mo,null,"="),s.createElement(a.mn,null,"1")),s.createElement(a.mi,null,"N")),s.createElement(a.msub,null,s.createElement(a.mi,null,"S"),s.createElement(a.mn,null,"1")),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"q"),s.createElement(a.mn,null,"1")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"i"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"j"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mo,null,"−"),s.createElement(a.msub,null,s.createElement(a.mi,null,"Z"),s.createElement(a.mn,null,"1")),s.createElement(a.mo,{stretchy:"false"},")"),s.createElement(a.msub,null,s.createElement(a.mi,null,"S"),s.createElement(a.mn,null,"2")),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"q"),s.createElement(a.mn,null,"2")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"j"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"k"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mo,null,"−"),s.createElement(a.msub,null,s.createElement(a.mi,null,"Z"),s.createElement(a.mn,null,"2")),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mtext,null,"(3)")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"S_3({q_3}^{(i,j)}-Z_3) = \\sum_{j=1}^{N}S_1({q_1}^{(i,j)}-Z_1)S_2({q_2}^{(j,k)}-Z_2) \\tag{3}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.188em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0576em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"3")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"3")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight"},"i"),s.createElement(a.span,{className:"mpunct mtight"},","),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"−"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"Z"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"3")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mclose"},")"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"3.2421em",verticalAlign:"-1.4138em"}}),s.createElement(a.span,{className:"mop op-limits"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.8283em"}},s.createElement(a.span,{style:{top:"-1.8723em",marginLeft:"0em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mrel mtight"},"="),s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{style:{top:"-3.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),s.createElement(a.span,null,s.createElement(a.span,{className:"mop op-symbol large-op"},"∑"))),s.createElement(a.span,{style:{top:"-4.3em",marginLeft:"0em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10903em"}},"N"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.4138em"}},s.createElement(a.span))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0576em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight"},"i"),s.createElement(a.span,{className:"mpunct mtight"},","),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"−"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.188em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"Z"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mclose"},")"),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0576em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mpunct mtight"},","),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03148em"}},"k"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"−"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"Z"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mclose"},")")),s.createElement(a.span,{className:"tag"},s.createElement(a.span,{className:"strut",style:{height:"3.2421em",verticalAlign:"-1.4138em"}}),s.createElement(a.span,{className:"mord text"},s.createElement(a.span,{className:"mord"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},"3")),s.createElement(a.span,{className:"mord"},")"))))))),"\n",s.createElement(a.p,null,"음 정리를 조금 해볼까요?"),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mtable,{width:"100%"},s.createElement(a.mtr,null,s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mrow,null,s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"q"),s.createElement(a.mn,null,"3")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"i"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"j"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mo,null,"="),s.createElement(a.msub,null,s.createElement(a.mi,null,"Z"),s.createElement(a.mn,null,"3")),s.createElement(a.mo,null,"+"),s.createElement(a.mi,null,"M"),s.createElement(a.munderover,null,s.createElement(a.mo,null,"∑"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"j"),s.createElement(a.mo,null,"="),s.createElement(a.mn,null,"1")),s.createElement(a.mi,null,"N")),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"q"),s.createElement(a.mn,null,"1")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"i"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"j"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mo,null,"−"),s.createElement(a.msub,null,s.createElement(a.mi,null,"Z"),s.createElement(a.mn,null,"1")),s.createElement(a.mo,{stretchy:"false"},")"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"q"),s.createElement(a.mn,null,"2")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"j"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"k"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mo,null,"−"),s.createElement(a.msub,null,s.createElement(a.mi,null,"Z"),s.createElement(a.mn,null,"2")),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mtext,null,"(4)")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"{q_3}^{(i,j)} = Z_3+M\\sum_{j=1}^{N}({q_1}^{(i,j)}-Z_1)({q_2}^{(j,k)}-Z_2) \\tag{4}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.1324em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"3")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight"},"i"),s.createElement(a.span,{className:"mpunct mtight"},","),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"Z"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"3")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"+"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"3.2421em",verticalAlign:"-1.4138em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"M"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mop op-limits"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.8283em"}},s.createElement(a.span,{style:{top:"-1.8723em",marginLeft:"0em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mrel mtight"},"="),s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{style:{top:"-3.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),s.createElement(a.span,null,s.createElement(a.span,{className:"mop op-symbol large-op"},"∑"))),s.createElement(a.span,{style:{top:"-4.3em",marginLeft:"0em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10903em"}},"N"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.4138em"}},s.createElement(a.span))))),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight"},"i"),s.createElement(a.span,{className:"mpunct mtight"},","),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"−"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.188em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"Z"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mclose"},")"),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mpunct mtight"},","),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03148em"}},"k"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"−"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"Z"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mclose"},")")),s.createElement(a.span,{className:"tag"},s.createElement(a.span,{className:"strut",style:{height:"3.2421em",verticalAlign:"-1.4138em"}}),s.createElement(a.span,{className:"mord text"},s.createElement(a.span,{className:"mord"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},"4")),s.createElement(a.span,{className:"mord"},")"))))))),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mtable,{width:"100%"},s.createElement(a.mtr,null,s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"M"),s.createElement(a.mo,null,":"),s.createElement(a.mo,null,"="),s.createElement(a.mfrac,null,s.createElement(a.mrow,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"S"),s.createElement(a.mn,null,"1")),s.createElement(a.msub,null,s.createElement(a.mi,null,"S"),s.createElement(a.mn,null,"2"))),s.createElement(a.msub,null,s.createElement(a.mi,null,"S"),s.createElement(a.mn,null,"3"))))),s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mtext,null,"(5)")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"M:=\\frac{S_1S_2}{S_3} \\tag{5}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"M"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},":="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"2.1963em",verticalAlign:"-0.836em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mopen nulldelimiter"}),s.createElement(a.span,{className:"mfrac"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.3603em"}},s.createElement(a.span,{style:{top:"-2.314em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0576em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"3")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))))),s.createElement(a.span,{style:{top:"-3.23em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})),s.createElement(a.span,{style:{top:"-3.677em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0576em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0576em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.836em"}},s.createElement(a.span))))),s.createElement(a.span,{className:"mclose nulldelimiter"}))),s.createElement(a.span,{className:"tag"},s.createElement(a.span,{className:"strut",style:{height:"2.1963em",verticalAlign:"-0.836em"}}),s.createElement(a.span,{className:"mord text"},s.createElement(a.span,{className:"mord"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},"5")),s.createElement(a.span,{className:"mord"},")"))))))),"\n",s.createElement(a.p,null,"여기서 우리는 경험적으로 M이 (0, 1)에 분포하는 것을 알 수 있어요."),"\n",s.createElement(l.Z,null,s.createElement(a.p,null,"사실 이 부분이 처음에는 이해가 안되었는데 LLM 모델 다뤄보니 보통 양자화 bit 범위보다 tensor의 범위가 더 작기 떄문에 scale 값이 1보다 작은 경우가 대부분이더라.")),"\n",s.createElement(a.p,null,"그렇다면 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"["),s.createElement(a.mn,null,"0.5"),s.createElement(a.mo,{stretchy:"false"},")")),s.createElement(a.annotation,{encoding:"application/x-tex"},"[0.5)")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mopen"},"["),s.createElement(a.span,{className:"mord"},"0.5"),s.createElement(a.span,{className:"mclose"},")")))))," 범위인 fixed-point ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"M"),s.createElement(a.mn,null,"0"))),s.createElement(a.annotation,{encoding:"application/x-tex"},"M_0")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"M"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.109em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"0")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))))))),"에 대해 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"M")),s.createElement(a.annotation,{encoding:"application/x-tex"},"M")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"M"))))),"을 표현해 볼게요."),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mtable,{width:"100%"},s.createElement(a.mtr,null,s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"M"),s.createElement(a.mo,null,"="),s.createElement(a.msup,null,s.createElement(a.mn,null,"2"),s.createElement(a.mrow,null,s.createElement(a.mo,null,"−"),s.createElement(a.mi,null,"n"))),s.createElement(a.msub,null,s.createElement(a.mi,null,"M"),s.createElement(a.mn,null,"0")))),s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mtext,null,"(6)")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"M=2^{-n}M_0 \\tag{6}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"M"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.9713em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},"2"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8213em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mtight"},"−"),s.createElement(a.span,{className:"mord mathnormal mtight"},"n"))))))))),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"M"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.109em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"0")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"tag"},s.createElement(a.span,{className:"strut",style:{height:"1.0713em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord text"},s.createElement(a.span,{className:"mord"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},"6")),s.createElement(a.span,{className:"mord"},")"))))))),"\n",s.createElement(a.p,null,"이제 우리는 bit shift 연산만으로 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"M"),s.createElement(a.mn,null,"0"))),s.createElement(a.annotation,{encoding:"application/x-tex"},"M_0")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"M"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.109em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"0")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))))))),"를 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"M")),s.createElement(a.annotation,{encoding:"application/x-tex"},"M")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"M"))))),"으로 만들 수 있게 되었어요."),"\n",s.createElement(l.Z,null,s.createElement(a.p,null,"여기서 결국 S3는 모르는데 어떻게 M을 계산하는 것인가?\r\n뒤 내용을 보고 돌아오니 아마 output에 대한 range를 구한 후 이를 통해 S3를 offline으로 연산할 수 있도록 하나보다.")),"\n",s.createElement(a.h2,{id:"efficient-handling-of-zero-points"},"Efficient handling of zero-points"),"\n",s.createElement(a.p,null,"자 다시 돌아가서 4번 식을 봅시다.\r\n4번 식을 약간 변형하면 아래와 같이 표현할 수 있어요."),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mtable,{width:"100%"},s.createElement(a.mtr,null,s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mrow,null,s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"q"),s.createElement(a.mn,null,"3")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"i"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"k"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mo,null,"="),s.createElement(a.msub,null,s.createElement(a.mi,null,"Z"),s.createElement(a.mn,null,"3")),s.createElement(a.mo,null,"+"),s.createElement(a.mi,null,"M"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"N"),s.createElement(a.msub,null,s.createElement(a.mi,null,"Z"),s.createElement(a.mn,null,"1")),s.createElement(a.msub,null,s.createElement(a.mi,null,"Z"),s.createElement(a.mn,null,"2")),s.createElement(a.mo,null,"−"),s.createElement(a.msub,null,s.createElement(a.mi,null,"Z"),s.createElement(a.mn,null,"1")),s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"a"),s.createElement(a.mn,null,"2")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"k"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mo,null,"−"),s.createElement(a.msub,null,s.createElement(a.mi,null,"Z"),s.createElement(a.mn,null,"2")),s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mover,{accent:"true"},s.createElement(a.mi,null,"a"),s.createElement(a.mo,null,"ˉ")),s.createElement(a.mn,null,"1")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"i"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mo,null,"+"),s.createElement(a.munderover,null,s.createElement(a.mo,null,"∑"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"j"),s.createElement(a.mo,null,"="),s.createElement(a.mn,null,"1")),s.createElement(a.mi,null,"N")),s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"q"),s.createElement(a.mn,null,"1")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"i"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"j"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"q"),s.createElement(a.mn,null,"2")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"j"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"k"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mtext,null,"(7)")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"{q_3}^{(i,k)}=Z_3+M(N Z_1 Z_2 - Z_1 {a_2}^{(k)} - Z_2 {\\bar{a}_1}^{(i)} + \\sum_{j=1}^{N} {q_1}^{(i,j)} {q_2}^{(j,k)}) \\tag{7}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.1324em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"3")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight"},"i"),s.createElement(a.span,{className:"mpunct mtight"},","),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03148em"}},"k"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"Z"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"3")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"+"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"M"),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"N"),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"Z"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"Z"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"−"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.088em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"Z"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal"},"a"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03148em"}},"k"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"−"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.088em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"Z"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord accent"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.5678em"}},s.createElement(a.span,{style:{top:"-3em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"mord mathnormal"},"a")),s.createElement(a.span,{style:{top:"-3em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"accent-body",style:{left:"-0.25em"}},s.createElement(a.span,{className:"mord"},"ˉ"))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight"},"i"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"+"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"3.2421em",verticalAlign:"-1.4138em"}}),s.createElement(a.span,{className:"mop op-limits"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.8283em"}},s.createElement(a.span,{style:{top:"-1.8723em",marginLeft:"0em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mrel mtight"},"="),s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{style:{top:"-3.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),s.createElement(a.span,null,s.createElement(a.span,{className:"mop op-symbol large-op"},"∑"))),s.createElement(a.span,{style:{top:"-4.3em",marginLeft:"0em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10903em"}},"N"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.4138em"}},s.createElement(a.span))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight"},"i"),s.createElement(a.span,{className:"mpunct mtight"},","),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mpunct mtight"},","),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03148em"}},"k"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))),s.createElement(a.span,{className:"mclose"},")")),s.createElement(a.span,{className:"tag"},s.createElement(a.span,{className:"strut",style:{height:"3.2421em",verticalAlign:"-1.4138em"}}),s.createElement(a.span,{className:"mord text"},s.createElement(a.span,{className:"mord"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},"7")),s.createElement(a.span,{className:"mord"},")"))))))),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mtable,{width:"100%"},s.createElement(a.mtr,null,s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mrow,null,s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"a"),s.createElement(a.mn,null,"2")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"k"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mo,null,":"),s.createElement(a.mo,null,"="),s.createElement(a.munderover,null,s.createElement(a.mo,null,"∑"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"j"),s.createElement(a.mo,null,"="),s.createElement(a.mn,null,"1")),s.createElement(a.mi,null,"N")),s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"q"),s.createElement(a.mn,null,"2")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"j"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"k"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mspace,{width:"2em"}),s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mover,{accent:"true"},s.createElement(a.mi,null,"a"),s.createElement(a.mo,null,"ˉ")),s.createElement(a.mn,null,"1")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"i"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mo,null,":"),s.createElement(a.mo,null,"="),s.createElement(a.munderover,null,s.createElement(a.mo,null,"∑"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"j"),s.createElement(a.mo,null,"="),s.createElement(a.mn,null,"1")),s.createElement(a.mi,null,"N")),s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"q"),s.createElement(a.mn,null,"1")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"i"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"j"),s.createElement(a.mo,{stretchy:"false"},")"))))),s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mtext,null,"(8)")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"{a_2}^{(k)} := \\sum_{j=1}^{N} {q_2}^{(j,k)} \\qquad {\\bar{a}_1}^{(i)} := \\sum_{j=1}^{N} {q_1}^{(i,j)} \\tag{8}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.088em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal"},"a"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03148em"}},"k"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},":="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"3.2421em",verticalAlign:"-1.4138em"}}),s.createElement(a.span,{className:"mop op-limits"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.8283em"}},s.createElement(a.span,{style:{top:"-1.8723em",marginLeft:"0em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mrel mtight"},"="),s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{style:{top:"-3.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),s.createElement(a.span,null,s.createElement(a.span,{className:"mop op-symbol large-op"},"∑"))),s.createElement(a.span,{style:{top:"-4.3em",marginLeft:"0em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10903em"}},"N"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.4138em"}},s.createElement(a.span))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mpunct mtight"},","),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03148em"}},"k"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"2em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord accent"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.5678em"}},s.createElement(a.span,{style:{top:"-3em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"mord mathnormal"},"a")),s.createElement(a.span,{style:{top:"-3em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"accent-body",style:{left:"-0.25em"}},s.createElement(a.span,{className:"mord"},"ˉ"))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight"},"i"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},":="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"3.2421em",verticalAlign:"-1.4138em"}}),s.createElement(a.span,{className:"mop op-limits"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.8283em"}},s.createElement(a.span,{style:{top:"-1.8723em",marginLeft:"0em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mrel mtight"},"="),s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{style:{top:"-3.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),s.createElement(a.span,null,s.createElement(a.span,{className:"mop op-symbol large-op"},"∑"))),s.createElement(a.span,{style:{top:"-4.3em",marginLeft:"0em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10903em"}},"N"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.4138em"}},s.createElement(a.span))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight"},"i"),s.createElement(a.span,{className:"mpunct mtight"},","),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mclose mtight"},")")))))))))),s.createElement(a.span,{className:"tag"},s.createElement(a.span,{className:"strut",style:{height:"3.2421em",verticalAlign:"-1.4138em"}}),s.createElement(a.span,{className:"mord text"},s.createElement(a.span,{className:"mord"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},"8")),s.createElement(a.span,{className:"mord"},")"))))))),"\n",s.createElement(a.p,null,"여기서 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"q"),s.createElement(a.mn,null,"2")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"j"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"k"),s.createElement(a.mo,{stretchy:"false"},")")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"{q_2}^{(j,k)}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.0824em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.888em"}},s.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mpunct mtight"},","),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03148em"}},"k"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))))))),"와 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mover,{accent:"true"},s.createElement(a.mi,null,"a"),s.createElement(a.mo,null,"ˉ")),s.createElement(a.mn,null,"1")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"i"),s.createElement(a.mo,{stretchy:"false"},")")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"{\\bar{a}_1}^{(i)}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1.038em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord accent"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.5678em"}},s.createElement(a.span,{style:{top:"-3em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"mord mathnormal"},"a")),s.createElement(a.span,{style:{top:"-3em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"accent-body",style:{left:"-0.25em"}},s.createElement(a.span,{className:"mord"},"ˉ"))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.888em"}},s.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight"},"i"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))))))),"는 각각 2번째 행렬의 k번째 열의 합, 1번째 행렬의 i번째 행의 합이네요.\r\n우리는 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"N"),s.createElement(a.mo,null,"×"),s.createElement(a.mi,null,"N")),s.createElement(a.annotation,{encoding:"application/x-tex"},"N \\times N")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.7667em",verticalAlign:"-0.0833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"N"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"×"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"N"))))),"크기의 두 행렬의 연산을 구하고 있는 중이잖아요?\r\n그럼 각각 N번의 덧셈, N번의 덧셈이 사용되는 거네요.\r\n전체 행렬에 대한 연산을 구한다고 하면 0, 1, ..., N 번째 열의 합이니 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msup,null,s.createElement(a.mi,null,"N"),s.createElement(a.mn,null,"2"))),s.createElement(a.annotation,{encoding:"application/x-tex"},"N^2")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8141em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"N"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8141em"}},s.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))))))))))),"번 연산, 0, 1, ..., N번째 행의 합이니 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msup,null,s.createElement(a.mi,null,"N"),s.createElement(a.mn,null,"2"))),s.createElement(a.annotation,{encoding:"application/x-tex"},"N^2")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8141em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"N"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8141em"}},s.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))))))))))),"번 연산, 둘이 합쳐 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mn,null,"2"),s.createElement(a.msup,null,s.createElement(a.mi,null,"N"),s.createElement(a.mn,null,"2"))),s.createElement(a.annotation,{encoding:"application/x-tex"},"2N^2")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8141em"}}),s.createElement(a.span,{className:"mord"},"2"),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"N"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8141em"}},s.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))))))))))),"번의 연산이 발생한다고 할 수 있죠."),"\n",s.createElement(a.p,null,"그렇다면 이제 상수를 제외하고는 남은 친구가 하나 있네요."),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mtable,{width:"100%"},s.createElement(a.mtr,null,s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mrow,null,s.createElement(a.munderover,null,s.createElement(a.mo,null,"∑"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"j"),s.createElement(a.mo,null,"="),s.createElement(a.mn,null,"1")),s.createElement(a.mi,null,"N")),s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"q"),s.createElement(a.mn,null,"1")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"i"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"j"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.msup,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"q"),s.createElement(a.mn,null,"2")),s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"j"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"k"),s.createElement(a.mo,{stretchy:"false"},")"))))),s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mtext,null,"(9)")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"\\sum_{j=1}^{N} {q_1}^{(i,j)} {q_2}^{(j,k)} \\tag{9}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"3.2421em",verticalAlign:"-1.4138em"}}),s.createElement(a.span,{className:"mop op-limits"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.8283em"}},s.createElement(a.span,{style:{top:"-1.8723em",marginLeft:"0em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mrel mtight"},"="),s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{style:{top:"-3.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),s.createElement(a.span,null,s.createElement(a.span,{className:"mop op-symbol large-op"},"∑"))),s.createElement(a.span,{style:{top:"-4.3em",marginLeft:"0em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10903em"}},"N"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.4138em"}},s.createElement(a.span))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight"},"i"),s.createElement(a.span,{className:"mpunct mtight"},","),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mclose mtight"},")"))))))))),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span))))))),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.938em"}},s.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mopen mtight"},"("),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"),s.createElement(a.span,{className:"mpunct mtight"},","),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03148em"}},"k"),s.createElement(a.span,{className:"mclose mtight"},")")))))))))),s.createElement(a.span,{className:"tag"},s.createElement(a.span,{className:"strut",style:{height:"3.2421em",verticalAlign:"-1.4138em"}}),s.createElement(a.span,{className:"mord text"},s.createElement(a.span,{className:"mord"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},"9")),s.createElement(a.span,{className:"mord"},")"))))))),"\n",s.createElement(a.p,null,"두 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"N"),s.createElement(a.mo,null,"×"),s.createElement(a.mi,null,"N")),s.createElement(a.annotation,{encoding:"application/x-tex"},"N \\times N")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.7667em",verticalAlign:"-0.0833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"N"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"×"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"N"))))),"행렬의 곱연산을 생각해 보면 하나의 결과 행렬 요소를 구하기 위해 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"N")),s.createElement(a.annotation,{encoding:"application/x-tex"},"N")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"N"))))),"번의 곱셈과 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"N")),s.createElement(a.annotation,{encoding:"application/x-tex"},"N")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"N"))))),"번의 덧셈, 즉 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mn,null,"2"),s.createElement(a.mi,null,"N")),s.createElement(a.annotation,{encoding:"application/x-tex"},"2N")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),s.createElement(a.span,{className:"mord"},"2"),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"N"))))),"번의 연산이 발생합니다.\r\n이 행위를 결과 행렬 요소의 수인 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"N"),s.createElement(a.mo,null,"×"),s.createElement(a.mi,null,"N")),s.createElement(a.annotation,{encoding:"application/x-tex"},"N \\times N")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.7667em",verticalAlign:"-0.0833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"N"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"×"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"N"))))),"번 반복하여 총 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mn,null,"2"),s.createElement(a.msup,null,s.createElement(a.mi,null,"N"),s.createElement(a.mn,null,"3"))),s.createElement(a.annotation,{encoding:"application/x-tex"},"2N^3")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8141em"}}),s.createElement(a.span,{className:"mord"},"2"),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"N"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8141em"}},s.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"3")))))))))))),"번의 연산이 필요하죠."),"\n",s.createElement(a.p,null,"그런데 왜 이렇게 연산을 풀어서 진행할까요?\r\n4번 식처럼 zero point를 빼준 상태로 연산을 진행하게 되면 큰 값과 큰 값의 덧셈, 곱셈의 형태로 표현되어 연산 결과를 저장하기 위한 더 많은 비트가 필요할 수 있습니다.\r\n그래서 우리는 전체 연산에서 곱셈이 차지하는 비중을 줄임으로써 비트 확장의 필요성을 감소시킵니다.\r\n이는 완벽하게 비트 확장을 배제하는 것이 아닌, 연산 과정에서 비트 확장을 최소화 하려는 과정이라고 생각하면 이해가 더 쉬울 것 같네요."),"\n",s.createElement(l.Z,null,s.createElement(a.p,null,"결국에 더 적은 연산량을 가지게 된다는 것 같은데 맞는건가?\r\n아 zero point에 상관없이 작은 수의 형태로 연산을 하려고! 그래서 비트 더 많이 안쓰게 한다고!\r\n하지만 연산을 나누어 수행하는 만큼 연산 시간은 더 길어지는 것이 아닌가? 아니면 적은 비트로 연산하니 더 빠른가?")),"\n",s.createElement(a.h2,{id:"implementation-of-a-typical-fused-layer"},"Implementation of a typical fused layer"),"\n",s.createElement(a.p,null,"우리는 앞서 두 행렬간 곱연산에 대해 quantization 방법을 생각해 보았어요.\r\n실제 모델에서는 두 행렬 activation과 weight의 곱연산 외에도 bias나 activation function을 가지고 있는데 이를 행렬곱과 직접 결합하는 형태로 만들어 볼 것이에요.\r\n훈련중에 사용되는 연산을 추론 코드에서 재현하는 과정이라 할 수 있겠네요."),"\n",s.createElement(a.p,null,s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"q"),s.createElement(a.mn,null,"1"))),s.createElement(a.annotation,{encoding:"application/x-tex"},"q_1")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))))))),"을 weight, ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"q"),s.createElement(a.mn,null,"2"))),s.createElement(a.annotation,{encoding:"application/x-tex"},"q_2")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))))))),"를 activation이라 가정하고, 둘 다 uint8 형태를 가진다고 할게요.\r\n우리는 32-bit accumulator를 사용할 거에요.\r\n그 이유는 조금 이따 설명하게요."),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mtable,{width:"100%"},s.createElement(a.mtr,null,s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"i"),s.createElement(a.mi,null,"n"),s.createElement(a.mi,null,"t"),s.createElement(a.mn,null,"32"),s.createElement(a.mo,null,"+"),s.createElement(a.mo,null,"="),s.createElement(a.mi,null,"u"),s.createElement(a.mi,null,"i"),s.createElement(a.mi,null,"n"),s.createElement(a.mi,null,"t"),s.createElement(a.mn,null,"8"),s.createElement(a.mo,null,"∗"),s.createElement(a.mi,null,"u"),s.createElement(a.mi,null,"i"),s.createElement(a.mi,null,"n"),s.createElement(a.mi,null,"t"),s.createElement(a.mn,null,"8"))),s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mtext,null,"(10)")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"int32 += uint8 * uint8 \\tag{10}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.7429em",verticalAlign:"-0.0833em"}}),s.createElement(a.span,{className:"mord mathnormal"},"in"),s.createElement(a.span,{className:"mord mathnormal"},"t"),s.createElement(a.span,{className:"mord"},"32"),s.createElement(a.span,{className:"mord"},"+"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6595em"}}),s.createElement(a.span,{className:"mord mathnormal"},"u"),s.createElement(a.span,{className:"mord mathnormal"},"in"),s.createElement(a.span,{className:"mord mathnormal"},"t"),s.createElement(a.span,{className:"mord"},"8"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"∗"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6595em"}}),s.createElement(a.span,{className:"mord mathnormal"},"u"),s.createElement(a.span,{className:"mord mathnormal"},"in"),s.createElement(a.span,{className:"mord mathnormal"},"t"),s.createElement(a.span,{className:"mord"},"8")),s.createElement(a.span,{className:"tag"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord text"},s.createElement(a.span,{className:"mord"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},"10")),s.createElement(a.span,{className:"mord"},")"))))))),"\n",s.createElement(a.p,null,"우리는 여기에 quantized된 bias를 더해줄 거에요.\r\nbias는 int32 형태로 아래와 같은 quantization parameter를 가집니다."),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mtable,{width:"100%"},s.createElement(a.mtr,null,s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mrow,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"S"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"b"),s.createElement(a.mi,null,"i"),s.createElement(a.mi,null,"a"),s.createElement(a.mi,null,"s"))),s.createElement(a.mo,null,"="),s.createElement(a.msub,null,s.createElement(a.mi,null,"S"),s.createElement(a.mn,null,"1")),s.createElement(a.msub,null,s.createElement(a.mi,null,"S"),s.createElement(a.mn,null,"2")),s.createElement(a.mspace,{width:"2em"}),s.createElement(a.msub,null,s.createElement(a.mi,null,"Z"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"b"),s.createElement(a.mi,null,"i"),s.createElement(a.mi,null,"a"),s.createElement(a.mi,null,"s"))),s.createElement(a.mo,null,"="),s.createElement(a.mn,null,"0"))),s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mtext,null,"(11)")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"S_{bias} = S_1 S_2 \\qquad Z_{bias} = 0 \\tag{11}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3361em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0576em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"bia"),s.createElement(a.span,{className:"mord mathnormal mtight"},"s"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0576em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"1")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0576em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"2em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"Z"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3361em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight"},"bia"),s.createElement(a.span,{className:"mord mathnormal mtight"},"s"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6444em"}}),s.createElement(a.span,{className:"mord"},"0")),s.createElement(a.span,{className:"tag"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord text"},s.createElement(a.span,{className:"mord"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},"11")),s.createElement(a.span,{className:"mord"},")"))))))),"\n",s.createElement(a.p,null,"bias는 output activation에 더해지기 때문에 bias-vector의 quantization error는 모델 전체를 편향되게 만드는 경향이 있어요.\r\n그래서 bias의 quantization error를 줄이는게 중요하답니다.\r\nquantization error를 최소화 하기 위해 bias는 32-bit로 quantize 해줄 거에요.\r\n그렇기에 우리는 int32 accumulator를 사용하는 겁니다."),"\n",s.createElement(a.p,null,"자 이제 우리는 할일이 두 가지밖에 안남았어요.\r\n하나는 값을 8-bit에 맞게 scale down을 하는 것이고요,\r\n다른 하나는 uint8로 cast down하고 activation function을 적용하여 8-bit output을 만드는 거에요."),"\n",s.createElement(a.p,null,"down-scaling은 식 7번을 이용하여 [0, 255]범위에 꽉 들어 맞도록 값을 조절해야 합니다.\r\nReLU, ReLU6와 같은 activation function은 거의 clamp를 하지 않기 때문에 layer와 합칠 필요가 없어요.\r\n해야할 일은 down-scaling된 값을 최종적으로 uint8로 cast down 해주어 최종적으로 uint8의 결과를 내면됩니다."),"\n",s.createElement(a.h1,{id:"training-with-simulated-quantization"},"Training with simulated quantization"),"\n",s.createElement(a.p,null,"일반적으로 FP로 학습을 진행한 후 결과 weight에 대해 quantize를 진행하는 접근을 합니다.\r\n(일부는 quantization 후 fine-tuning을 하기도 함!)\r\n이러한 방법은 큰 모델에 대해서 상당한 정확성을 가지지만 작은 모델에서 정확도가 크게 하락해요.\r\n그 문제점은 아래와 같아요."),"\n",s.createElement(a.ul,null,"\n",s.createElement(a.li,null,"채널간 weight의 범위가 너무 큰 차이를 가지는 경우"),"\n",s.createElement(a.li,null,"outlier weight가 나머지 weight에 대한 정확도를 크게 하락시키는 경우"),"\n"),"\n",s.createElement(a.p,null,"동일한 layer의 모든 채널에 대해 동일한 resolution으로 quantize를 하기에 위와 같은 상황에서 정확도 하락이 발생하는 거죠.\r\n그래서 우리는 backpropagation은 기존과 동일하게 FP로 조절되지만 forward propagation에서 quantization의 영향을 시뮬레이션 하는 접근을 사용할 것입니다.\r\nforward를 inference시와 동일하게 하지만 FP의 형태로 구현한다는 소리입니다!",s.createElement(a.br),"\n",s.createElement(l.Z,null,"이것이 fake quantization을 말하는 것인듯!")),"\n",s.createElement(a.p,null,"weight는 input이 들어오기 전부터 이미 quantized된 상태에요.\r\n만약 batch norm이 사용되는 레이어라면, weight를 quantize하기 전에 batch norm의 파라미터를 weight와 합칠 것입니다."),"\n",s.createElement(a.p,null,"activation은 추론시에 quantized 됩니다. layer의 output에 activation function이 적용된 후 와 같이 말이죠!"),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mtext,null,"clamp"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"r"),s.createElement(a.mo,{separator:"true"},";"),s.createElement(a.mi,null,"a"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"b"),s.createElement(a.mo,{stretchy:"false"},")"),s.createElement(a.mo,null,":"),s.createElement(a.mo,null,"="),s.createElement(a.mi,null,"min"),s.createElement(a.mo,null,"⁡"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"max"),s.createElement(a.mo,null,"⁡"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"x"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"a"),s.createElement(a.mo,{stretchy:"false"},")"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"b"),s.createElement(a.mo,{stretchy:"false"},")")),s.createElement(a.annotation,{encoding:"application/x-tex"},"\\text{clamp}(r; a, b) := \\min(\\max(x, a), b)")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord text"},s.createElement(a.span,{className:"mord"},"clamp")),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),s.createElement(a.span,{className:"mpunct"},";"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"a"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"b"),s.createElement(a.span,{className:"mclose"},")"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},":="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mop"},"min"),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mop"},"max"),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord mathnormal"},"x"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"a"),s.createElement(a.span,{className:"mclose"},")"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"b"),s.createElement(a.span,{className:"mclose"},")")))))),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"s"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"a"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"b"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"n"),s.createElement(a.mo,{stretchy:"false"},")"),s.createElement(a.mo,null,":"),s.createElement(a.mo,null,"="),s.createElement(a.mfrac,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"b"),s.createElement(a.mo,null,"−"),s.createElement(a.mi,null,"a")),s.createElement(a.mrow,null,s.createElement(a.mi,null,"n"),s.createElement(a.mo,null,"−"),s.createElement(a.mn,null,"1")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"s(a, b, n) := \\frac{b - a}{n - 1}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord mathnormal"},"s"),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord mathnormal"},"a"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"b"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"n"),s.createElement(a.span,{className:"mclose"},")"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},":="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"2.1408em",verticalAlign:"-0.7693em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mopen nulldelimiter"}),s.createElement(a.span,{className:"mfrac"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.3714em"}},s.createElement(a.span,{style:{top:"-2.314em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal"},"n"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"−"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mord"},"1"))),s.createElement(a.span,{style:{top:"-3.23em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})),s.createElement(a.span,{style:{top:"-3.677em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal"},"b"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"−"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mord mathnormal"},"a")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.7693em"}},s.createElement(a.span))))),s.createElement(a.span,{className:"mclose nulldelimiter"}))))))),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mtable,{width:"100%"},s.createElement(a.mtr,null,s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"q"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"r"),s.createElement(a.mo,{separator:"true"},";"),s.createElement(a.mi,null,"a"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"b"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"n"),s.createElement(a.mo,{stretchy:"false"},")"),s.createElement(a.mo,null,":"),s.createElement(a.mo,null,"="),s.createElement(a.mrow,null,s.createElement(a.mo,{fence:"true"},"⌊"),s.createElement(a.mfrac,null,s.createElement(a.mrow,null,s.createElement(a.mtext,null,"clamp"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"r"),s.createElement(a.mo,{separator:"true"},";"),s.createElement(a.mi,null,"a"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"b"),s.createElement(a.mo,{stretchy:"false"},")"),s.createElement(a.mo,null,"−"),s.createElement(a.mi,null,"a")),s.createElement(a.mrow,null,s.createElement(a.mi,null,"s"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"a"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"b"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"n"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mo,{fence:"true"},"⌉")),s.createElement(a.mi,null,"s"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"a"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"b"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"n"),s.createElement(a.mo,{stretchy:"false"},")"),s.createElement(a.mo,null,"+"),s.createElement(a.mi,null,"a"))),s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mtext,null,"(12)")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"q(r; a, b, n) := \\left\\lfloor \\frac{\\text{clamp}(r; a, b) - a}{s(a, b, n)} \\right\\rceil s(a, b, n) + a \\tag{12}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),s.createElement(a.span,{className:"mpunct"},";"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"a"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"b"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"n"),s.createElement(a.span,{className:"mclose"},")"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},":="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"2.4em",verticalAlign:"-0.95em"}}),s.createElement(a.span,{className:"minner"},s.createElement(a.span,{className:"mopen delimcenter",style:{top:"0em"}},s.createElement(a.span,{className:"delimsizing size3"},"⌊")),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mopen nulldelimiter"}),s.createElement(a.span,{className:"mfrac"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.427em"}},s.createElement(a.span,{style:{top:"-2.314em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal"},"s"),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord mathnormal"},"a"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"b"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"n"),s.createElement(a.span,{className:"mclose"},")"))),s.createElement(a.span,{style:{top:"-3.23em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})),s.createElement(a.span,{style:{top:"-3.677em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord text"},s.createElement(a.span,{className:"mord"},"clamp")),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"),s.createElement(a.span,{className:"mpunct"},";"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"a"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"b"),s.createElement(a.span,{className:"mclose"},")"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"−"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mord mathnormal"},"a")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.936em"}},s.createElement(a.span))))),s.createElement(a.span,{className:"mclose nulldelimiter"})),s.createElement(a.span,{className:"mclose delimcenter",style:{top:"0em"}},s.createElement(a.span,{className:"delimsizing size3"},"⌉"))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"s"),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord mathnormal"},"a"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"b"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"n"),s.createElement(a.span,{className:"mclose"},")"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"+"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.4306em"}}),s.createElement(a.span,{className:"mord mathnormal"},"a")),s.createElement(a.span,{className:"tag"},s.createElement(a.span,{className:"strut",style:{height:"2.4em",verticalAlign:"-0.95em"}}),s.createElement(a.span,{className:"mord text"},s.createElement(a.span,{className:"mord"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},"12")),s.createElement(a.span,{className:"mord"},")"))))))),"\n",s.createElement(a.p,null,s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"r")),s.createElement(a.annotation,{encoding:"application/x-tex"},"r")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.4306em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"r"))))),"은 실제 값, ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"["),s.createElement(a.mi,null,"a"),s.createElement(a.mo,{separator:"true"},";"),s.createElement(a.mi,null,"b"),s.createElement(a.mo,{stretchy:"false"},"]")),s.createElement(a.annotation,{encoding:"application/x-tex"},"[a;b]")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mopen"},"["),s.createElement(a.span,{className:"mord mathnormal"},"a"),s.createElement(a.span,{className:"mpunct"},";"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"b"),s.createElement(a.span,{className:"mclose"},"]"))))),"는 quantization range, ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mo,{fence:"true"},"⌊"),s.createElement(a.mo,null,"⋅"),s.createElement(a.mo,{fence:"true"},"⌉")),s.createElement(a.annotation,{encoding:"application/x-tex"},"\\left\\lfloor \\cdot \\right\\rceil")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"minner"},s.createElement(a.span,{className:"mopen delimcenter",style:{top:"0em"}},"⌊"),s.createElement(a.span,{className:"mord"},"⋅"),s.createElement(a.span,{className:"mclose delimcenter",style:{top:"0em"}},"⌉")))))),"는 반올림, 그리고 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"n"),s.createElement(a.mo,null,"="),s.createElement(a.msup,null,s.createElement(a.mn,null,"2"),s.createElement(a.mi,null,"N")),s.createElement(a.mo,null,"="),s.createElement(a.mn,null,"256")),s.createElement(a.annotation,{encoding:"application/x-tex"},"n=2^N=256")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.4306em"}}),s.createElement(a.span,{className:"mord mathnormal"},"n"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8413em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},"2"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.8413em"}},s.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10903em"}},"N")))))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6444em"}}),s.createElement(a.span,{className:"mord"},"256")))))," 입니다. (8bit quantization)"),"\n",s.createElement(a.h2,{id:"learning-quantization-ranges"},"Learning quantization ranges"),"\n",s.createElement(a.p,null,"quantization range는 weight와 activation에 따라 다르게 다룰 거예요."),"\n",s.createElement(a.p,null,"weight에서 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"a"),s.createElement(a.mo,null,":"),s.createElement(a.mo,null,"="),s.createElement(a.mi,null,"min"),s.createElement(a.mo,null,"⁡"),s.createElement(a.mi,null,"w"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"b"),s.createElement(a.mo,null,":"),s.createElement(a.mo,null,"="),s.createElement(a.mi,null,"max"),s.createElement(a.mo,null,"⁡"),s.createElement(a.mi,null,"w")),s.createElement(a.annotation,{encoding:"application/x-tex"},"a := \\min w, b := \\max w")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.4306em"}}),s.createElement(a.span,{className:"mord mathnormal"},"a"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},":="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),s.createElement(a.span,{className:"mop"},"min"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"}},"w"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"b"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},":="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.4306em"}}),s.createElement(a.span,{className:"mop"},"max"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"}},"w")))))," 입니다.\r\n이때 우리는 -128을 사용하지 않는 ",s.createElement(a.span,{className:"math math-inline"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.mo,{stretchy:"false"},"["),s.createElement(a.mo,null,"−"),s.createElement(a.mn,null,"127"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mn,null,"127"),s.createElement(a.mo,{stretchy:"false"},"]")),s.createElement(a.annotation,{encoding:"application/x-tex"},"[-127, 127]")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mopen"},"["),s.createElement(a.span,{className:"mord"},"−"),s.createElement(a.span,{className:"mord"},"127"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord"},"127"),s.createElement(a.span,{className:"mclose"},"]")))))," 범위로만 사용할 거예요.\r\n그 이유는 뒤에서 설명하겠습니다."),"\n",s.createElement(a.p,null,"activation은 network에 따라 다르기 때문에, training 동안에 그 범위를 수집할 거예요.\r\n그리고 exponential moving averages (EMA)를 사용하여 집계합니다.\r\n물론 훈련 초반에는 범위가 급격하게 변하기 때문에, 안정적인 단계에 들어갈 때 까지 activation quantization을 사용하지 않을 거예요."),"\n",s.createElement(a.p,null,"우리는 quantization을 진행하면 값을 가장 가까운 숫자에 맵핑하는 방식으로 진행하게 될 텐데,\r\n0은 값이 없음 등과 같은 특별한 의미를 가지는 친구이기 때문에 정확하게 표현해줄 필요가 있어요.\r\n그래서 수집한 [a; b]의 범위를 0.0이 어떠한 값에 근사되어 맵핑하는 것이 아닌, 정확하게 그 값을 가지도록 조정해줄 것입니다."),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mtable,{width:"100%"},s.createElement(a.mtr,null,s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"S"),s.createElement(a.mo,null,"="),s.createElement(a.mi,null,"s"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"a"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"b"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"n"),s.createElement(a.mo,{stretchy:"false"},")"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mspace,{width:"2em"}),s.createElement(a.mi,null,"Z"),s.createElement(a.mo,null,"="),s.createElement(a.mi,null,"z"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.mi,null,"a"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"b"),s.createElement(a.mo,{separator:"true"},","),s.createElement(a.mi,null,"n"),s.createElement(a.mo,{stretchy:"false"},")"))),s.createElement(a.mtd,{width:"50%"}),s.createElement(a.mtd,null,s.createElement(a.mtext,null,"(13)")))),s.createElement(a.annotation,{encoding:"application/x-tex"},"S = s(a, b, n), \\qquad Z = z(a, b, n) \\tag{13}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord mathnormal"},"s"),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord mathnormal"},"a"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"b"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"n"),s.createElement(a.span,{className:"mclose"},")"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"2em"}}),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"Z"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},"="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.04398em"}},"z"),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord mathnormal"},"a"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"b"),s.createElement(a.span,{className:"mpunct"},","),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.createElement(a.span,{className:"mord mathnormal"},"n"),s.createElement(a.span,{className:"mclose"},")")),s.createElement(a.span,{className:"tag"},s.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.createElement(a.span,{className:"mord text"},s.createElement(a.span,{className:"mord"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord"},"13")),s.createElement(a.span,{className:"mord"},")"))))))),"\n",s.createElement(a.h2,{id:"batch-normlization-folding"},"Batch normlization folding"),"\n",s.createElement(a.p,null,"BN을 사용하는 모델에는 추가로 해줘야 하는 일이 있어요.\r\n학습시에는 BN을 별개의 레이어로 분리하지만, 추론시 Conv나 FC 레이어에 합친 상태입니다.\r\n우리는 정확한 시뮬레이션을 위해 BN의 파라미터를 weight에 합쳐주는 작업을 진행할 거예요."),"\n",s.createElement(a.div,{className:"math math-display"},s.createElement(a.span,{className:"katex-display"},s.createElement(a.span,{className:"katex"},s.createElement(a.span,{className:"katex-mathml"},s.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},s.createElement(a.semantics,null,s.createElement(a.mrow,null,s.createElement(a.msub,null,s.createElement(a.mi,null,"W"),s.createElement(a.mrow,null,s.createElement(a.mi,null,"f"),s.createElement(a.mi,null,"o"),s.createElement(a.mi,null,"l"),s.createElement(a.mi,null,"d"))),s.createElement(a.mo,null,":"),s.createElement(a.mo,null,"="),s.createElement(a.mfrac,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"γ"),s.createElement(a.mi,null,"w")),s.createElement(a.msqrt,null,s.createElement(a.mrow,null,s.createElement(a.mi,null,"E"),s.createElement(a.mi,null,"M"),s.createElement(a.mi,null,"A"),s.createElement(a.mo,{stretchy:"false"},"("),s.createElement(a.msubsup,null,s.createElement(a.mi,null,"σ"),s.createElement(a.mi,null,"B"),s.createElement(a.mn,null,"2")),s.createElement(a.mo,{stretchy:"false"},")"),s.createElement(a.mo,null,"+"),s.createElement(a.mi,null,"ε"))))),s.createElement(a.annotation,{encoding:"application/x-tex"},"W_{fold} := \\frac{\\gamma w}{\\sqrt{EMA(\\sigma_B^2) + \\varepsilon}}")))),s.createElement(a.span,{className:"katex-html","aria-hidden":"true"},s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"0.9694em",verticalAlign:"-0.2861em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"}},"W"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3361em"}},s.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10764em"}},"f"),s.createElement(a.span,{className:"mord mathnormal mtight"},"o"),s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.01968em"}},"l"),s.createElement(a.span,{className:"mord mathnormal mtight"},"d"))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.2861em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.createElement(a.span,{className:"mrel"},":="),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),s.createElement(a.span,{className:"base"},s.createElement(a.span,{className:"strut",style:{height:"2.2376em",verticalAlign:"-1.13em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mopen nulldelimiter"}),s.createElement(a.span,{className:"mfrac"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.1076em"}},s.createElement(a.span,{style:{top:"-2.1738em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord sqrt"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.9362em"}},s.createElement(a.span,{className:"svg-align",style:{top:"-3.2em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.2em"}}),s.createElement(a.span,{className:"mord",style:{paddingLeft:"1em"}},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"EM"),s.createElement(a.span,{className:"mord mathnormal"},"A"),s.createElement(a.span,{className:"mopen"},"("),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"σ"),s.createElement(a.span,{className:"msupsub"},s.createElement(a.span,{className:"vlist-t vlist-t2"},s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.7959em"}},s.createElement(a.span,{style:{top:"-2.4065em",marginLeft:"-0.0359em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05017em"}},"B"))),s.createElement(a.span,{style:{top:"-3.0448em",marginRight:"0.05em"}},s.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),s.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},s.createElement(a.span,{className:"mord mtight"},"2")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.2935em"}},s.createElement(a.span)))))),s.createElement(a.span,{className:"mclose"},")"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mbin"},"+"),s.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.createElement(a.span,{className:"mord mathnormal"},"ε"))),s.createElement(a.span,{style:{top:"-2.8962em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3.2em"}}),s.createElement(a.span,{className:"hide-tail",style:{minWidth:"1.02em",height:"1.28em"}},s.createElement(a.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.28em",viewBox:"0 0 400000 1296",preserveAspectRatio:"xMinYMin slice"},s.createElement(a.path,{d:"M263,681c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl0 -0\nc4.7,-7.3,11,-11,19,-11\nH40000v40H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM1001 80h400000v40h-400000z"}))))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"0.3038em"}},s.createElement(a.span))))))),s.createElement(a.span,{style:{top:"-3.23em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})),s.createElement(a.span,{style:{top:"-3.677em"}},s.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),s.createElement(a.span,{className:"mord"},s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.05556em"}},"γ"),s.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"}},"w")))),s.createElement(a.span,{className:"vlist-s"},"​")),s.createElement(a.span,{className:"vlist-r"},s.createElement(a.span,{className:"vlist",style:{height:"1.13em"}},s.createElement(a.span))))),s.createElement(a.span,{className:"mclose nulldelimiter"}))))))))}a.Z=function(e){void 0===e&&(e={});const{wrapper:a}=Object.assign({},(0,m.ah)(),e.components);return a?s.createElement(a,e,s.createElement(n,e)):n(e)}}}]);
//# sourceMappingURL=6dd60340-df1b9ac56e4154d1e11e.js.map