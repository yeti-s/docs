"use strict";(self.webpackChunkyeti_docs=self.webpackChunkyeti_docs||[]).push([[3986],{9077:function(e,a,t){var s=t(1151),m=t(7294),l=t(93);function n(e){const a=Object.assign({p:"p",code:"code",span:"span",h1:"h1",math:"math",semantics:"semantics",mrow:"mrow",msub:"msub",mi:"mi",annotation:"annotation",msup:"msup",div:"div",mo:"mo",msubsup:"msubsup",mn:"mn",mtext:"mtext",munderover:"munderover",h3:"h3",ul:"ul",li:"li",mfrac:"mfrac",munder:"munder",mover:"mover",mspace:"mspace",svg:"svg",path:"path",mtable:"mtable",mtr:"mtr",mtd:"mtd",mstyle:"mstyle"},(0,s.ah)(),e.components);return l||c("Elem",!1),l.ColorText||c("Elem.ColorText",!0),m.createElement(m.Fragment,null,m.createElement(a.p,null,"우리는 seq2seq 모델을 통해 MT 작업을 수행하는 것을 보았습니다.\r\n그런데 여기에 한 가지 문제가 있어요.\r\n입력의 모든 정보가 인코더의 마지막 레이어에 저장되어야 한다는 것이죠.\r\n그로 인해 정보가 압축되는 현상이 발생해요.\r\n이를 ",m.createElement(a.code,null,"bottleneck problem"),"이라고 합니다."),"\n",m.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 704px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 54.545454545454554%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABsUlEQVR42pWTW2/CMAyF+f+/bHthV0aBwQajbXqjV3pzkjM7ZROa9kKkoyRq9NnHdmeQpQfobMvaQJ+2sF2BaVncumawBqbyQdEzRsUK5tDFJyz1F+YEHccRQRBAKfWrJEn+BxJnRgyjZMn7E3TqwQ61e0BEqKoKZVkiiiIHCcMQWZYhTVPkeY6iKK6A4jjfgTgzCh8wHu/Z9g6WyyBrGAbUF+C5adxe5AX6vkfDdwki+gUSP7Z9BcMZmTZj+IfL2DT8yGpoY1yWIq21A8kuJfi5G20crKEOs/6wB9U10vUaiechXa0QP98jfpkDfY3sfMbSP+AjifCuAnihjw1rGyt3X/C3Q5qAOPh7HTBw/4lR6rN8g1q8IvZWUI93CB/uOOMSSVVj8bXHVoXYBEd4rDVrEwYOLMAvruVgCavqiJlpW26kdRakXs5O12Bsi8mynixfWyRNfyxrZ7kcm6kphuvUdZ2TPKi4BD53UkDSBBkRaUDLwWUXnU4nB5XzmctyNTbTnMkDGQmZtTiO4fu+A7gp4AwkqDgRyfn6bi8MPk0Zug5xJJktgcpsyYxJBrf+Kd94OE9uQGtijQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="00"\n        title=""\n        src="/static/74c06acc101d2975b2ad6155e776495f/5ebd7/00.png"\n        srcset="/static/74c06acc101d2975b2ad6155e776495f/06437/00.png 176w,\n/static/74c06acc101d2975b2ad6155e776495f/ba1c3/00.png 352w,\n/static/74c06acc101d2975b2ad6155e776495f/5ebd7/00.png 704w,\n/static/74c06acc101d2975b2ad6155e776495f/77800/00.png 855w"\n        sizes="(max-width: 704px) 100vw, 704px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",m.createElement(a.h1,{id:"attention"},"Attention"),"\n",m.createElement(a.p,null,"이를 출력을 생성하는 단계에서 인코더의 모든 step에 대한 정보와 접근하여 출력을 결정하는 ",m.createElement(a.code,null,"attention")," 메카니즘을 통해 해결했습니다."),"\n",m.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 452px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 119.88636363636364%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAAA7EAAAOxAGVKw4bAAADUUlEQVR42o1VaU/bQBDl//+HHmoL3ytVqlqppYK2QAW0JCFAiHM4sR0nvr3xGft1xhsTh0Ow0ma915s3M28nO3imiWUOy4nw0rbz1EZZltU4UQxcHZzgegH0jBKDOWD422fn8zmWy+XLALWBDuXwCIsYaE1KtKdAEG+fMQwDURRtAHl9VdSH6r5mOJ6jddRCEGWYzgV0O0aa5shz2bnFcYzVaiUBRQKoNjB1NoBFUdxd8EMBbbZAUV0oaS9DEkcVCLMKwxC6riPLMgk4o3h0yI1bE4jIoGcV8BYpba1QEjAfzKmn1GsW98NiWdYGcBEClxpwrRN1jke3gNuX/rNrzCyrwIh1liKvY9MA5ITU7u8YHnAxARTKHh/V1ATqKIZHoejc+ghoHGgxxrMELsX9si/Xmo1dv4sh/3DWXJl1xGkCEcmJ7wfrCzHFTKL4QfCA4RYgA1kC5AqBEWuOFwe8ckUI6XqSkPvp1tqTgCzSLsXvZgYknBSRQ19I5Y70gGKYwQ1zmHYo14zwLl6PA3oyKTcGbVCi/DCCblpIiNV1X4Xj2BiMNChDFZ7r4up2DM/zqkQ1AfMmQ90tkeYleClruCyWotJkRLrzAx8uAU11DcZshtFoBE3TqrNxk2HJltgFtkajIBah41RzW5tWo6B55Pso6ZJNIBxTlsqMgHu9HrG+RZTKpO3E6hhh6wIJbZI5jA8PMPn1E1mSovX2NVZkRPn6BdrJMRJKyMWbVyjuxfDjv1P0TF0CpnMTzv43+H9OWMmYHB9hdPADjmWjs/eepOPjhgB53TZNtHbfQdBzEwTOPaKn+al1hoFlSsCE3IqUPjJyqyQ3VGKnHf9Gnmbo7L4nNwsM97/DODtFTrHq7H14wPBz+y/6prEdw1JWBQgSc+BL2dhU5yrh05z1x2/bXiyaj1meIzKsiu16uN7cyvJaxElD2OI5Yd8vrHy5tlZXYQZhQO4uqaA2KAtISlp1ENCTZAMPADkJDMj648t1RWbmXPfa7TYURdlUdJLR+fk5ut1u9YIeADIIg7JFHpvfXEyZNc+DRpF49E+qWdsGgwFUVa2Y8TezYibj8biaD4fDu4LK9+r+KCAf5Ev8tNhFdo8BJpMJptNp9TIY+H71rhn+B1bBOmPbN17yAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="01"\n        title=""\n        src="/static/fa650bdfabce440085cd4d523f3710b8/fcb94/01.png"\n        srcset="/static/fa650bdfabce440085cd4d523f3710b8/06437/01.png 176w,\n/static/fa650bdfabce440085cd4d523f3710b8/ba1c3/01.png 352w,\n/static/fa650bdfabce440085cd4d523f3710b8/fcb94/01.png 452w"\n        sizes="(max-width: 452px) 100vw, 452px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",m.createElement(a.p,null,"Attention 메카니즘은 아래와 같아요."),"\n",m.createElement(a.p,null,"1. 디코더의 각 step에서 생성된 hidden state ",m.createElement(a.span,{className:"math math-inline"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mi,null,"s"),m.createElement(a.mi,null,"t"))),m.createElement(a.annotation,{encoding:"application/x-tex"},"s_t")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"s"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.2806em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"t")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))))))),"와 인코더의 hidden state ",m.createElement(a.span,{className:"math math-inline"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mi,null,"h"),m.createElement(a.mi,null,"N"))),m.createElement(a.annotation,{encoding:"application/x-tex"},"h_N")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.8444em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"h"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3283em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10903em"}},"N")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))))))),"을 이용하여 attention score ",m.createElement(a.span,{className:"math math-inline"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msup,null,m.createElement(a.mi,null,"e"),m.createElement(a.mi,null,"t"))),m.createElement(a.annotation,{encoding:"application/x-tex"},"e^t")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.7936em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"e"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.7936em"}},m.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"t")))))))))))),"를 계산합니다."),"\n",m.createElement(a.div,{className:"math math-display"},m.createElement(a.span,{className:"katex-display"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msup,null,m.createElement(a.mi,null,"e"),m.createElement(a.mi,null,"t")),m.createElement(a.mo,null,"="),m.createElement(a.mo,{stretchy:"false"},"["),m.createElement(a.msubsup,null,m.createElement(a.mi,null,"s"),m.createElement(a.mi,null,"t"),m.createElement(a.mi,null,"T")),m.createElement(a.msub,null,m.createElement(a.mi,null,"h"),m.createElement(a.mn,null,"1")),m.createElement(a.mo,{separator:"true"},","),m.createElement(a.mo,null,"⋯"),m.createElement(a.mtext,null," "),m.createElement(a.mo,{separator:"true"},","),m.createElement(a.msubsup,null,m.createElement(a.mi,null,"s"),m.createElement(a.mi,null,"t"),m.createElement(a.mi,null,"T")),m.createElement(a.msub,null,m.createElement(a.mi,null,"h"),m.createElement(a.mi,null,"N")),m.createElement(a.mo,{stretchy:"false"},"]"),m.createElement(a.mo,null,"∈"),m.createElement(a.msup,null,m.createElement(a.mi,{mathvariant:"double-struck"},"R"),m.createElement(a.mi,null,"N"))),m.createElement(a.annotation,{encoding:"application/x-tex"},"e^t = [s_t^T h_1, \\cdots, s_t^T h_N] \\in \\mathbb{R}^N")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.8436em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"e"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8436em"}},m.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"t")))))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"="),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"1.1413em",verticalAlign:"-0.25em"}}),m.createElement(a.span,{className:"mopen"},"["),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"s"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8913em"}},m.createElement(a.span,{style:{top:"-2.453em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"t"))),m.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.247em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"h"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mtight"},"1")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mpunct"},","),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"minner"},"⋯"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"mpunct"},","),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"s"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8913em"}},m.createElement(a.span,{style:{top:"-2.453em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"t"))),m.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.247em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"h"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3283em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10903em"}},"N")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mclose"},"]"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"∈"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.8913em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathbb"},"R"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8913em"}},m.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10903em"}},"N"))))))))))))),"\n",m.createElement(a.p,null,"2. Attention score에 softmax를 적용하여 attention distribution ",m.createElement(a.span,{className:"math math-inline"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msup,null,m.createElement(a.mi,null,"α"),m.createElement(a.mi,null,"t"))),m.createElement(a.annotation,{encoding:"application/x-tex"},"\\alpha^t")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.7936em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.0037em"}},"α"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.7936em"}},m.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"t")))))))))))),"를 구합니다."),"\n",m.createElement(a.div,{className:"math math-display"},m.createElement(a.span,{className:"katex-display"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msup,null,m.createElement(a.mi,null,"α"),m.createElement(a.mi,null,"t")),m.createElement(a.mo,null,"="),m.createElement(a.mi,null,"s"),m.createElement(a.mi,null,"o"),m.createElement(a.mi,null,"f"),m.createElement(a.mi,null,"t"),m.createElement(a.mi,null,"m"),m.createElement(a.mi,null,"a"),m.createElement(a.mi,null,"x"),m.createElement(a.mo,{stretchy:"false"},"("),m.createElement(a.msup,null,m.createElement(a.mi,null,"e"),m.createElement(a.mi,null,"t")),m.createElement(a.mo,{stretchy:"false"},")"),m.createElement(a.mo,null,"∈"),m.createElement(a.msup,null,m.createElement(a.mi,{mathvariant:"double-struck"},"R"),m.createElement(a.mi,null,"N"))),m.createElement(a.annotation,{encoding:"application/x-tex"},"\\alpha^t = softmax(e^t) \\in \\mathbb{R}^N")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.8436em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.0037em"}},"α"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8436em"}},m.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"t")))))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"="),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"1.0936em",verticalAlign:"-0.25em"}}),m.createElement(a.span,{className:"mord mathnormal"},"so"),m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"}},"f"),m.createElement(a.span,{className:"mord mathnormal"},"t"),m.createElement(a.span,{className:"mord mathnormal"},"ma"),m.createElement(a.span,{className:"mord mathnormal"},"x"),m.createElement(a.span,{className:"mopen"},"("),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"e"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8436em"}},m.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"t")))))))),m.createElement(a.span,{className:"mclose"},")"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"∈"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.8913em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathbb"},"R"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8913em"}},m.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10903em"}},"N"))))))))))))),"\n",m.createElement(a.p,null,"3. ",m.createElement(a.span,{className:"math math-inline"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msup,null,m.createElement(a.mi,null,"α"),m.createElement(a.mi,null,"t"))),m.createElement(a.annotation,{encoding:"application/x-tex"},"\\alpha^t")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.7936em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.0037em"}},"α"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.7936em"}},m.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"t")))))))))))),"를 이용하여 ",m.createElement(a.span,{className:"math math-inline"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mi,null,"h"),m.createElement(a.mi,null,"N"))),m.createElement(a.annotation,{encoding:"application/x-tex"},"h_N")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.8444em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"h"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3283em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10903em"}},"N")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))))))),"의 가중 합 attention output ",m.createElement(a.span,{className:"math math-inline"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mi,null,"a"),m.createElement(a.mi,null,"t"))),m.createElement(a.annotation,{encoding:"application/x-tex"},"a_t")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"a"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.2806em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"t")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))))))),"를 구합니다."),"\n",m.createElement(a.div,{className:"math math-display"},m.createElement(a.span,{className:"katex-display"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mi,null,"a"),m.createElement(a.mi,null,"t")),m.createElement(a.mo,null,"="),m.createElement(a.munderover,null,m.createElement(a.mo,null,"∑"),m.createElement(a.mrow,null,m.createElement(a.mi,null,"i"),m.createElement(a.mo,null,"="),m.createElement(a.mn,null,"1")),m.createElement(a.mi,null,"N")),m.createElement(a.msubsup,null,m.createElement(a.mi,null,"α"),m.createElement(a.mi,null,"i"),m.createElement(a.mi,null,"t")),m.createElement(a.msub,null,m.createElement(a.mi,null,"h"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,null,"∈"),m.createElement(a.msup,null,m.createElement(a.mi,{mathvariant:"double-struck"},"R"),m.createElement(a.mi,null,"h"))),m.createElement(a.annotation,{encoding:"application/x-tex"},"a_t = \\sum_{i=1}^{N} \\alpha_i^t h_i \\in \\mathbb{R}^h")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"a"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.2806em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"t")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"="),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"3.106em",verticalAlign:"-1.2777em"}}),m.createElement(a.span,{className:"mop op-limits"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"1.8283em"}},m.createElement(a.span,{style:{top:"-1.8723em",marginLeft:"0em"}},m.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i"),m.createElement(a.span,{className:"mrel mtight"},"="),m.createElement(a.span,{className:"mord mtight"},"1")))),m.createElement(a.span,{style:{top:"-3.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),m.createElement(a.span,null,m.createElement(a.span,{className:"mop op-symbol large-op"},"∑"))),m.createElement(a.span,{style:{top:"-4.3em",marginLeft:"0em"}},m.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10903em"}},"N"))))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"1.2777em"}},m.createElement(a.span))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.0037em"}},"α"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8436em"}},m.createElement(a.span,{style:{top:"-2.453em",marginLeft:"-0.0037em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i"))),m.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"t")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.247em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"h"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"∈"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.8991em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathbb"},"R"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8991em"}},m.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"h"))))))))))))),"\n",m.createElement(a.p,null,"4. Attention output ",m.createElement(a.span,{className:"math math-inline"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mi,null,"a"),m.createElement(a.mi,null,"t"))),m.createElement(a.annotation,{encoding:"application/x-tex"},"a_t")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"a"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.2806em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"t")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))))))),"와 ",m.createElement(a.span,{className:"math math-inline"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mi,null,"s"),m.createElement(a.mi,null,"t"))),m.createElement(a.annotation,{encoding:"application/x-tex"},"s_t")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"s"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.2806em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"t")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))))))),"를 합친 후 기존 seq2seq 모델처럼 연산을 진행합니다."),"\n",m.createElement(a.div,{className:"math math-display"},m.createElement(a.span,{className:"katex-display"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.mo,{stretchy:"false"},"["),m.createElement(a.msub,null,m.createElement(a.mi,null,"a"),m.createElement(a.mi,null,"t")),m.createElement(a.mo,{separator:"true"},";"),m.createElement(a.msub,null,m.createElement(a.mi,null,"s"),m.createElement(a.mi,null,"t")),m.createElement(a.mo,{stretchy:"false"},"]"),m.createElement(a.mo,null,"∈"),m.createElement(a.msup,null,m.createElement(a.mi,{mathvariant:"double-struck"},"R"),m.createElement(a.mrow,null,m.createElement(a.mn,null,"2"),m.createElement(a.mi,null,"h")))),m.createElement(a.annotation,{encoding:"application/x-tex"},"[a_t; s_t] \\in \\mathbb{R}^{2h}")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),m.createElement(a.span,{className:"mopen"},"["),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"a"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.2806em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"t")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mpunct"},";"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"s"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.2806em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"t")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mclose"},"]"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"∈"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.8991em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathbb"},"R"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8991em"}},m.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mtight"},m.createElement(a.span,{className:"mord mtight"},"2"),m.createElement(a.span,{className:"mord mathnormal mtight"},"h")))))))))))))),"\n",m.createElement(a.h3,{id:"attention-is-great"},"Attention is great!"),"\n",m.createElement(a.p,null,"Attention은 디코더를 source의 어떠한 부분에 집중할 수 있도록 하여 NMT의 성능을 크게 높였습니다.\r\n이전 정보를 기억하기보다 번역시 다시 source 정보를 되돌아보며 더욱 사람과 같은 형태를 띄게 되었네요.\r\n또 attention은 bottleneck problem과 vanishing gradient problem을 해결할 수 있었어요.\r\nAttention distribution을 이용하면 디코더가 어느 부분에 집중하는지 알 수 있어서 더욱 해석가능한 모델이 되었어요.\r\n우리가 어디를 보라고 알려준 것도 아닌데 말이죠!"),"\n",m.createElement(a.p,null,"우리는 seq2seq 모델의 성능 향상을 위해 attention을 사용하였지만, 사실 attention은 거의 모든 아키텍처에 적용이 가능합니다.\r\nattention의 더 일반적인 정의는 query, value 벡터가 주어지고 query에 따른 value의 가중 합을 계산하는 기술이에요.\r\n즉, query가 어느 value를 집중해서 볼 것인지 선택해서 합치는 방식이죠."),"\n",m.createElement(a.h3,{id:"attention-variants"},"Attention variants"),"\n",m.createElement(a.p,null,"사실 attention score를 계산하는 방법을 여러 가지가 있어요."),"\n",m.createElement(a.ul,null,"\n",m.createElement(a.li,null,"Basic dot-product attention: 위에서 사용한 방식이죠. ",m.createElement(a.span,{className:"math math-inline"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mi,null,"e"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,null,"="),m.createElement(a.msup,null,m.createElement(a.mi,null,"s"),m.createElement(a.mi,null,"T")),m.createElement(a.msub,null,m.createElement(a.mi,null,"h"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,null,"∈"),m.createElement(a.mi,{mathvariant:"double-struck"},"R")),m.createElement(a.annotation,{encoding:"application/x-tex"},"e_i = s^T h_i \\in \\mathbb{R}")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"e"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"="),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.9913em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"s"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8413em"}},m.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T")))))))),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"h"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"∈"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.6889em"}}),m.createElement(a.span,{className:"mord mathbb"},"R")))))),"\n",m.createElement(a.li,null,"Multiplicative attention: 앞선 방식에 weight를 추가한 방법이에요. ",m.createElement(a.span,{className:"math math-inline"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mi,null,"e"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,null,"="),m.createElement(a.msup,null,m.createElement(a.mi,null,"s"),m.createElement(a.mi,null,"T")),m.createElement(a.mi,null,"W"),m.createElement(a.msub,null,m.createElement(a.mi,null,"h"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,null,"∈"),m.createElement(a.mi,{mathvariant:"double-struck"},"R")),m.createElement(a.annotation,{encoding:"application/x-tex"},"e_i = s^T W h_i \\in \\mathbb{R}")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"e"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"="),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.9913em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"s"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8413em"}},m.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T")))))))),m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"}},"W"),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"h"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"∈"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.6889em"}}),m.createElement(a.span,{className:"mord mathbb"},"R")))))),"\n",m.createElement(a.li,null,"Reduced-rank Multiplicative attention: 트랜스포머의 self-attention에서 사용하는 방식입니다. ",m.createElement(a.span,{className:"math math-inline"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mi,null,"e"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,null,"="),m.createElement(a.msup,null,m.createElement(a.mi,null,"s"),m.createElement(a.mi,null,"T")),m.createElement(a.mo,{stretchy:"false"},"("),m.createElement(a.msup,null,m.createElement(a.mi,null,"U"),m.createElement(a.mi,null,"T")),m.createElement(a.mi,null,"V"),m.createElement(a.mo,{stretchy:"false"},")"),m.createElement(a.msub,null,m.createElement(a.mi,null,"h"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,null,"="),m.createElement(a.mo,{stretchy:"false"},"("),m.createElement(a.mi,null,"U"),m.createElement(a.mi,null,"s"),m.createElement(a.msup,null,m.createElement(a.mo,{stretchy:"false"},")"),m.createElement(a.mi,null,"T")),m.createElement(a.mo,{stretchy:"false"},"("),m.createElement(a.mi,null,"V"),m.createElement(a.msub,null,m.createElement(a.mi,null,"h"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,{stretchy:"false"},")")),m.createElement(a.annotation,{encoding:"application/x-tex"},"e_i = s^T(U^T V)h_i = (Us)^T(Vh_i)")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"e"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"="),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"1.0913em",verticalAlign:"-0.25em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"s"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8413em"}},m.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T")))))))),m.createElement(a.span,{className:"mopen"},"("),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"U"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8413em"}},m.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T")))))))),m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V"),m.createElement(a.span,{className:"mclose"},")"),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"h"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"="),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"1.0913em",verticalAlign:"-0.25em"}}),m.createElement(a.span,{className:"mopen"},"("),m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"}},"U"),m.createElement(a.span,{className:"mord mathnormal"},"s"),m.createElement(a.span,{className:"mclose"},m.createElement(a.span,{className:"mclose"},")"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8413em"}},m.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T")))))))),m.createElement(a.span,{className:"mopen"},"("),m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V"),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"h"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mclose"},")")))))),"\n",m.createElement(a.li,null,"Additive attention: ",m.createElement(a.span,{className:"math math-inline"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mi,null,"e"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,null,"="),m.createElement(a.msup,null,m.createElement(a.mi,null,"v"),m.createElement(a.mi,null,"T")),m.createElement(a.mi,null,"tanh"),m.createElement(a.mo,null,"⁡"),m.createElement(a.mo,{stretchy:"false"},"("),m.createElement(a.msub,null,m.createElement(a.mi,null,"W"),m.createElement(a.mn,null,"1")),m.createElement(a.msub,null,m.createElement(a.mi,null,"h"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,null,"+"),m.createElement(a.msub,null,m.createElement(a.mi,null,"W"),m.createElement(a.mn,null,"2")),m.createElement(a.mi,null,"s"),m.createElement(a.mo,{stretchy:"false"},")"),m.createElement(a.mo,null,"∈"),m.createElement(a.mi,{mathvariant:"double-struck"},"R")),m.createElement(a.annotation,{encoding:"application/x-tex"},"e_i = v^T \\tanh (W_1 h_i + W_2 s) \\in \\mathbb{R}")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"e"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"="),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"1.0913em",verticalAlign:"-0.25em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8413em"}},m.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T")))))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"mop"},"tanh"),m.createElement(a.span,{className:"mopen"},"("),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"}},"W"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mtight"},"1")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"h"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),m.createElement(a.span,{className:"mbin"},"+"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"}},"W"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3011em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mtight"},"2")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mord mathnormal"},"s"),m.createElement(a.span,{className:"mclose"},")"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"∈"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.6889em"}}),m.createElement(a.span,{className:"mord mathbb"},"R")))))),"\n"),"\n",m.createElement(a.h1,{id:"from-rnn-to-attention-based-nlp-models"},"From RNN to Attention-Based NLP Models"),"\n",m.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 595px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 42.61363636363637%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABq0lEQVR42n2SO08CQRSF92dqTU3Lf7AjsaGhIKExVAQKjBITISDIQxYIFiuIsK67Arsw7Esexzs3QGKMTjKZyZ17537nzCj4Y+z3e15N00S5XEaz2US9Xken0+FZKpXQaDR+1Sk4FP5YD3t5qeu6mE6n0HUdk8mE9/P5HJqmwTCMU+NjnYJ/RhiG2G63XLTb7XhuNhteZUxO3/d/EorbW3xRcHF5iS9KXuXzEMUiQjoUyyVLrtVqnKyqKhN6nodKpcKk7nqNLZ3ZqRTCfg+KnkjAmc3wFonAdhwY8TiMZBLzIMCg32efstksSy9SI3mpbJLJZNjT8esrBIFMYjH45LXitNvc3crlIN0QrRaWT08nCQHRd7td3g+HQ1iWxTYcY0e/Z6Q0JI+VD5JqU9LH+RmWJNG6uMCMqD/Jvx7RVKtVppEyC4UC2gQgCdPpNJ+NXl6Y0IxG4d/dESF1Ep4P7foGth/ArD1AJykb2ZzMD0i6fGH5APKi1WrFjyVjklQSytzRfRmLNyIcjsfQhYsrbQr13ULveYBHkrwWgl/0v3H8MY4XIDvSoX7a+AaRhJm3lUe+8AAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="02"\n        title=""\n        src="/static/a2a92a34d4607d04f798eecc330cf20f/3dd3e/02.png"\n        srcset="/static/a2a92a34d4607d04f798eecc330cf20f/06437/02.png 176w,\n/static/a2a92a34d4607d04f798eecc330cf20f/ba1c3/02.png 352w,\n/static/a2a92a34d4607d04f798eecc330cf20f/3dd3e/02.png 595w"\n        sizes="(max-width: 595px) 100vw, 595px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",m.createElement(a.p,null,"RNN에서 긴 거리의 단어와 상호작용을 위해서는 그 길이 만큼의 step이 필요합니다.\r\n이는 기울기의 문제로 긴 거리 의존성을 학습하는 것은 쉽지 않죠.\r\n또한 forward, backward 모두 병렬적으로 처리할 수 없어요.\r\n미래의 hidden state는 이전 step의 hidden state가 계산되어야 하기 떄문이죠.\r\n이는 학습을 느리게 만듭니다."),"\n",m.createElement(a.p,null,"우리는 앞서 attention을 디코더에서 인코더의 hidden state를 참조하여 생성하는 것으로 보았어요.\r\n이번에는 하나의 문장 내에서 각 단어가 다른 모든 단어와의 관계를 고려하는 ",m.createElement(a.code,null,"self-attention"),"을 생각해볼게요.\r\n문장 내 모든 단어에 대해 연산을 진행하므로 병렬적으로 계산을 할 수 있어요.\r\n문장이 길어져도 메모리만 충분하다면 말이죠."),"\n",m.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 457px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 85.79545454545455%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAC6klEQVR42n1TSW/TYBDN3+NHcO1f4MyFQxEnQAiEhCji1oAqhGiSqqERTZrFWZ3dzuI6i53EaewkjZ3lMePGVWlTRhpZ/mZ7M2/Gp+s6MpkMQqEQIpEIAoEAWs0mMrkcrui7rNfhdLsQRRGpVAqCIECSZVRLeYylKAylCCGZQiwaxXw+h0/TNFSrVZRKJZyfn7sB2WwWGVKRCrUqFciVsmtnv0aj4frUajVUxSx6ugpRaSNdq8CazeDr9Xpu9XK5jHA4jFgshkQi4SojKhSLyOXziMfjSKfTkAkd2zgmmRJQrkvIUcHR1MJyvYbPMAy02210Oh1IkuRqk1pttVpQVRWKorjKCdjGfmznzhgtq0LxnvjwiGyommPbWNN3uVxiuVphs9nApjf+dxzH/d76b9XHThzk6YoCWczpFOWaBMuaQiG0MqHjZIwymUyiUCig3+/Di9+JkI0slmVBOd6HdLAH+ewdgjTw41wKl7rmIudxTCaTnZ357ibbbCvVicGhGIB+8RVa9Tcy6iUKHQVFerdM85/it7Fb9d1Hx5WZBLNwRChfwqqEsCKTYy9c5O0tAXfbfICQU7W7PagDHSqx2KDVMPPfIf14AascwHzhUDIT4/EYFdpLjzQ3Mc38ijZlpA9com4QLmxMoheYxeKQhTSahGLRvsBAOMSklcBwNsfQmmBM6PN0QbwyJrXOLE+IvGhJxFkugxEVvUlIj7NvR7D9Rzj9/AVCPgfjz3uIn/agxQ+gGGM0uyoGoxH8fr+7/DyWASWuXSr4mIribfQMEnX4YIZ8CcFgEI5WxLR2iqGSQVHrQx4NkKOrOaGbZ+H2vDiH2mZd7ySFWonFomgcPUf5w1MIP/fxOhLGm5NfCPE77aFHisfszrXxhCvzfS8nHSz0Oq6vurBooef0bhApfKr31+bRhJ6TTgssHz5D+tUTyIF9hGn/QtkUZJrXentJj8nOW3bnYmqwDQW2NcDMsTGzr7Fa/z8ZJ/wL7c/wY97tkRQAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="03"\n        title=""\n        src="/static/a7b7e0989c82b29d2be64b6d1f3bdc59/34f1d/03.png"\n        srcset="/static/a7b7e0989c82b29d2be64b6d1f3bdc59/06437/03.png 176w,\n/static/a7b7e0989c82b29d2be64b6d1f3bdc59/ba1c3/03.png 352w,\n/static/a7b7e0989c82b29d2be64b6d1f3bdc59/34f1d/03.png 457w"\n        sizes="(max-width: 457px) 100vw, 457px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",m.createElement(a.p,null,"문장 내 단어 ",m.createElement(a.span,{className:"math math-inline"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mi,null,"w"),m.createElement(a.mi,null,"i"))),m.createElement(a.annotation,{encoding:"application/x-tex"},"w_i")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"}},"w"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0269em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))))))),"에 embedding matrix ",m.createElement(a.span,{className:"math math-inline"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.mi,null,"E")),m.createElement(a.annotation,{encoding:"application/x-tex"},"E")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.6833em"}}),m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"E"))))),"에 대한 word embedding ",m.createElement(a.span,{className:"math math-inline"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mi,null,"x"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,null,"="),m.createElement(a.mi,null,"E"),m.createElement(a.msub,null,m.createElement(a.mi,null,"w"),m.createElement(a.mi,null,"i"))),m.createElement(a.annotation,{encoding:"application/x-tex"},"x_i = E w_i")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"x"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"="),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"}},"E"),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02691em"}},"w"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0269em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))))))),"라고 합시다."),"\n",m.createElement(a.p,null,"1. word embedding에 대해 weight matrices Q, K, V로 각 벡터를 구해줍니다."),"\n",m.createElement(a.div,{className:"math math-display"},m.createElement(a.span,{className:"katex-display"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mi,null,"q"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,null,"="),m.createElement(a.mi,null,"Q"),m.createElement(a.msub,null,m.createElement(a.mi,null,"x"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,{separator:"true"},","),m.createElement(a.msub,null,m.createElement(a.mi,null,"k"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,null,"="),m.createElement(a.mi,null,"K"),m.createElement(a.msub,null,m.createElement(a.mi,null,"x"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,{separator:"true"},","),m.createElement(a.msub,null,m.createElement(a.mi,null,"v"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,null,"="),m.createElement(a.mi,null,"V"),m.createElement(a.msub,null,m.createElement(a.mi,null,"x"),m.createElement(a.mi,null,"i"))),m.createElement(a.annotation,{encoding:"application/x-tex"},"q_i = Q x_i, k_i = K x_i, v_i = V x_i")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"="),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),m.createElement(a.span,{className:"mord mathnormal"},"Q"),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"x"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mpunct"},","),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"}},"k"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0315em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"="),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.8778em",verticalAlign:"-0.1944em"}}),m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"}},"K"),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"x"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mpunct"},","),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"="),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V"),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"x"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span))))))))))),"\n",m.createElement(a.p,null,"2. query와 key를 이용하여 attention score를 구하고 softmax를 이용하여 attention distribution을 계산합니다."),"\n",m.createElement(a.div,{className:"math math-display"},m.createElement(a.span,{className:"katex-display"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mi,null,"e"),m.createElement(a.mrow,null,m.createElement(a.mi,null,"i"),m.createElement(a.mi,null,"j"))),m.createElement(a.mo,null,"="),m.createElement(a.msubsup,null,m.createElement(a.mi,null,"q"),m.createElement(a.mi,null,"i"),m.createElement(a.mi,null,"T")),m.createElement(a.msub,null,m.createElement(a.mi,null,"k"),m.createElement(a.mi,null,"j")),m.createElement(a.mo,{separator:"true"},","),m.createElement(a.msub,null,m.createElement(a.mi,null,"a"),m.createElement(a.mrow,null,m.createElement(a.mi,null,"i"),m.createElement(a.mi,null,"j"))),m.createElement(a.mo,null,"="),m.createElement(a.mfrac,null,m.createElement(a.mrow,null,m.createElement(a.mi,null,"exp"),m.createElement(a.mo,null,"⁡"),m.createElement(a.mo,{stretchy:"false"},"("),m.createElement(a.msub,null,m.createElement(a.mi,null,"e"),m.createElement(a.mrow,null,m.createElement(a.mi,null,"i"),m.createElement(a.mi,null,"j"))),m.createElement(a.mo,{stretchy:"false"},")")),m.createElement(a.mrow,null,m.createElement(a.munder,null,m.createElement(a.mo,null,"∑"),m.createElement(a.mi,null,"j")),m.createElement(a.mi,null,"exp"),m.createElement(a.mo,null,"⁡"),m.createElement(a.mo,{stretchy:"false"},"("),m.createElement(a.msubsup,null,m.createElement(a.mi,null,"e"),m.createElement(a.mrow,null,m.createElement(a.mi,null,"i"),m.createElement(a.mi,null,"j")),m.createElement(a.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em"},"′")),m.createElement(a.mo,{stretchy:"false"},")")))),m.createElement(a.annotation,{encoding:"application/x-tex"},"e_{ij} = q_i^T k_j, a_{ij} = \\frac{\\exp(e_{ij})}{\\sum_{j} \\exp(e_{ij}')}")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.7167em",verticalAlign:"-0.2861em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"e"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"ij"))))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.2861em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"="),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"1.1774em",verticalAlign:"-0.2861em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8913em"}},m.createElement(a.span,{style:{top:"-2.453em",marginLeft:"-0.0359em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i"))),m.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.247em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"}},"k"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0315em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.2861em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mpunct"},","),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"a"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"ij"))))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.2861em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"="),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"2.5488em",verticalAlign:"-1.1218em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mopen nulldelimiter"}),m.createElement(a.span,{className:"mfrac"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"1.427em"}},m.createElement(a.span,{style:{top:"-2.314em"}},m.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mop"},m.createElement(a.span,{className:"mop op-symbol small-op",style:{position:"relative",top:"0em"}},"∑"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.162em"}},m.createElement(a.span,{style:{top:"-2.4003em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j"))))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.4358em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"mop"},"exp"),m.createElement(a.span,{className:"mopen"},"("),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"e"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.7337em"}},m.createElement(a.span,{style:{top:"-2.4231em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"ij")))),m.createElement(a.span,{style:{top:"-3.0448em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mtight"},m.createElement(a.span,{className:"mord mtight"},"′"))))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.413em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mclose"},")"))),m.createElement(a.span,{style:{top:"-3.23em"}},m.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),m.createElement(a.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})),m.createElement(a.span,{style:{top:"-3.677em"}},m.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mop"},"exp"),m.createElement(a.span,{className:"mopen"},"("),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"e"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"ij"))))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.2861em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mclose"},")")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"1.1218em"}},m.createElement(a.span))))),m.createElement(a.span,{className:"mclose nulldelimiter"}))))))),"\n",m.createElement(a.p,null,"3. 위 attention score와 value를 이용하여 가중 합을 구합니다."),"\n",m.createElement(a.div,{className:"math math-display"},m.createElement(a.span,{className:"katex-display"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mi,null,"o"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,null,"="),m.createElement(a.munder,null,m.createElement(a.mo,null,"∑"),m.createElement(a.mi,null,"j")),m.createElement(a.msub,null,m.createElement(a.mi,null,"a"),m.createElement(a.mrow,null,m.createElement(a.mi,null,"i"),m.createElement(a.mi,null,"j"))),m.createElement(a.msub,null,m.createElement(a.mi,null,"v"),m.createElement(a.mi,null,"i"))),m.createElement(a.annotation,{encoding:"application/x-tex"},"o_i = \\sum_{j} a_{ij} v_i")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"o"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"="),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"2.4638em",verticalAlign:"-1.4138em"}}),m.createElement(a.span,{className:"mop op-limits"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"1.05em"}},m.createElement(a.span,{style:{top:"-1.8723em",marginLeft:"0em"}},m.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j")))),m.createElement(a.span,{style:{top:"-3.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"3.05em"}}),m.createElement(a.span,null,m.createElement(a.span,{className:"mop op-symbol large-op"},"∑")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"1.4138em"}},m.createElement(a.span))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"a"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"ij"))))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.2861em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span))))))))))),"\n",m.createElement(a.h3,{id:"barrier-and-solution-for-self-attention"},"Barrier and solution for self-attention"),"\n",m.createElement(a.p,null,"사실 위와 같은 방식은 몇 가지 문제가 있어요."),"\n",m.createElement(a.p,null,"1. ",m.createElement(l.ColorText,{color:"var(--error)"},"단어의 순서를 고려하지 못합니다."),"\r\nRNN 에서 각 단어의 순서대로 연산을 진행하며 자연스럽게 순서에 대한 정보도 포함되고 있습니다.\r\n하지만 위와 같은 self-attention 방식은 모든 단어에 대한 연산을 병렬적으로 진행하여 순서에 대한 정보가 존재하지 않아요.\r\n그래서 이를 해결하기 위해 ",m.createElement(l.ColorText,{color:"var(--info)"},"위치에 관한 정보를 embedding 해줍니다.")),"\n",m.createElement(a.div,{className:"math math-display"},m.createElement(a.span,{className:"katex-display"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mover,{accent:"true"},m.createElement(a.mi,null,"x"),m.createElement(a.mo,{stretchy:"true"},"~")),m.createElement(a.mi,null,"i")),m.createElement(a.mo,null,"="),m.createElement(a.msub,null,m.createElement(a.mi,null,"x"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,null,"+"),m.createElement(a.msub,null,m.createElement(a.mi,null,"p"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,{separator:"true"},","),m.createElement(a.mspace,{width:"1em"}),m.createElement(a.msub,null,m.createElement(a.mi,null,"p"),m.createElement(a.mi,null,"i")),m.createElement(a.mo,null,"∈"),m.createElement(a.msup,null,m.createElement(a.mi,{mathvariant:"double-struck"},"R"),m.createElement(a.mi,null,"d")),m.createElement(a.mspace,{width:"1em"}),m.createElement(a.mo,{stretchy:"false"},"("),m.createElement(a.mi,null,"f"),m.createElement(a.mi,null,"o"),m.createElement(a.mi,null,"r"),m.createElement(a.mtext,null,"  "),m.createElement(a.mi,null,"i"),m.createElement(a.mo,null,"∈"),m.createElement(a.mrow,null,m.createElement(a.mn,null,"1"),m.createElement(a.mo,{separator:"true"},","),m.createElement(a.mn,null,"2"),m.createElement(a.mo,{separator:"true"},","),m.createElement(a.mo,null,"⋯"),m.createElement(a.mtext,null," "),m.createElement(a.mo,{separator:"true"},","),m.createElement(a.mi,null,"n")),m.createElement(a.mo,{stretchy:"false"},")")),m.createElement(a.annotation,{encoding:"application/x-tex"},"\\widetilde{x}_i = x_i + p_i, \\quad p_i \\in \\mathbb{R}^d \\quad (for \\; i \\in {1,2,\\cdots,n})")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.8406em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord accent"},m.createElement(a.span,{className:"vlist-t"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.6906em"}},m.createElement(a.span,{style:{top:"-3em"}},m.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),m.createElement(a.span,{className:"mord mathnormal"},"x")),m.createElement(a.span,{className:"svg-align",style:{width:"calc(100% - 0.0556em)",marginLeft:"0.0556em",top:"-3.4306em"}},m.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),m.createElement(a.span,{style:{height:"0.26em"}},m.createElement(a.svg,{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"0.26em",viewBox:"0 0 600 260",preserveAspectRatio:"none"},m.createElement(a.path,{d:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z"})))))))),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"="),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.7333em",verticalAlign:"-0.15em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"x"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}}),m.createElement(a.span,{className:"mbin"},"+"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2222em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.7335em",verticalAlign:"-0.1944em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"p"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mpunct"},","),m.createElement(a.span,{className:"mspace",style:{marginRight:"1em"}}),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"p"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"∈"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"1.1491em",verticalAlign:"-0.25em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathbb"},"R"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8991em"}},m.createElement(a.span,{style:{top:"-3.113em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"d")))))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"1em"}}),m.createElement(a.span,{className:"mopen"},"("),m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"}},"f"),m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"}},"or"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mord mathnormal"},"i"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"∈"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord"},"1"),m.createElement(a.span,{className:"mpunct"},","),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"mord"},"2"),m.createElement(a.span,{className:"mpunct"},","),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"minner"},"⋯"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"mpunct"},","),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"mord mathnormal"},"n")),m.createElement(a.span,{className:"mclose"},")")))))),"\n",m.createElement(a.p,null,"위치 정보 ",m.createElement(a.span,{className:"math math-inline"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mi,null,"p"),m.createElement(a.mi,null,"i"))),m.createElement(a.annotation,{encoding:"application/x-tex"},"p_i")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"p"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.15em"}},m.createElement(a.span)))))))))),"는 ",m.createElement(a.code,null,"sinusoidal position"),"으로 나타냅니다.\r\n이는 다양한 주기를 가진 사인, 코사인 함수를 연결하여 각 단어의 위치 정보를 인코딩하는 방식이에요."),"\n",m.createElement(a.ul,null,"\n",m.createElement(a.li,null,"\n",m.createElement(l.ColorText,{color:"var(--info)"},"위치 정보가 절대적이지 않고 주기성을 가져 모델이 위치 정보를 유연하게 해석합니다."),"\n"),"\n",m.createElement(a.li,null,"\n",m.createElement(l.ColorText,{color:"var(--info)"},"주기적인 패턴 덕분에 모델이 훈련 중 본 적 없는 더 긴 시퀀스에 대해 추론할 수 있습니다."),"\n"),"\n",m.createElement(a.li,null,"\n",m.createElement(l.ColorText,{color:"var(--error)"},"그러나 위치 표현이 학습 가능하지 않고 실제로 긴 시퀀스에 대한 효과가 제한적일 수 있습니다."),"\n"),"\n"),"\n",m.createElement(a.p,null,"2. ",m.createElement(l.ColorText,{color:"var(--error)"},"비선형적인 결과를 만들어 낼 수 없어요."),"\r\n가중 합을 사용하기 때문에 self-attention 만으로는 비선형적인 결과를 만들어 낼 수 없어요.\r\n이는 ",m.createElement(l.ColorText,{color:"var(--info)"},"self-attention 결과에 feed-forward network를 적용하여 해결할 수 있습니다.")),"\n",m.createElement(a.p,null,"3. ",m.createElement(l.ColorText,{color:"var(--error)"},"문장을 예측할 때 미래를 보지 않아야 합니다."),"\r\nself-attention은 문장의 모든 단어를 보고 연산을 진행하기 때문에 예측 시점에서 미래의 단어까지 정보로 들어올 수 있어요.\r\n이는 ",m.createElement(l.ColorText,{color:"var(--info)"},"미래에 대한 정보를 masking 하는 기법을 사용하여 해결할 수 있어요.")),"\n",m.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 498px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 85.79545454545455%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACRElEQVR42pWUuW4iQRCG/bAEdkSAkDjN4chGAkRAygNwiJAnICCwZBuz2IBA2pVZDmEYzpmB+V1/L43sBYvdlkpdzFR//dcxXODcchy1mYYB4+0N6/d3zPt9LAcDta8nky/hF/8KXI7H+P3wgMHTE/r39xg3m8qnWYvFIfYs0NntlO1sG+Z8rpTSqNRer9Uz7o7Adtvt90AG0CCwuRxuvbzA3GxgWyY2AuBaCHgrFxE0k5itaZ5XaErQD0lvOBxiI36328VY0p/NZmg0GtjIJXzXarVg298otOXW6XSqDi2kPlRqiJ/NZpFKpZDJZJBMJpFOpw92d3eHSqXyFejoBiyXeJJiN0XZYl9wXhAKheByueDxeOD3++F2u9Uz+peXlygUCgIkZG9/gI5qgF4EUvFExqNYLCKfzyOXyyEWi+Hm5gbRaBTxeBzBYBClUuk4ZdVVy1KKer0eLPF5EWtl7y9iHQOBAHw+HyKRiIJStQKupMDL0QjGr5/KdgTIQYJYQ4K4uK9WK+W/vr4qmNfrxfX1tTKmr4BjGYfh8zMGj49qSDkChOqaMmV22pARYW2pciQC6vU6Op0OyuUywuGwUqyAnB2b6YixdvzNlCecPRkFQvT4bOUy7ev0q9WqSvfq6krV97iGcojQndSSB/9W+NnnqtVqSCQSuL29PR4b3RSmbIkCwtb7r+JzU+hrtXxPnwLonwSCn5I0pN1uHxrxOWUCCdC+nl/6J4H2vrM6SHeYCghmuvT5nL6OOQnUdTz8Ofzn+gBwle5yai8A4gAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="04"\n        title=""\n        src="/static/953c4db889dd2a287a6dbfcf2b65136b/79e1b/04.png"\n        srcset="/static/953c4db889dd2a287a6dbfcf2b65136b/06437/04.png 176w,\n/static/953c4db889dd2a287a6dbfcf2b65136b/ba1c3/04.png 352w,\n/static/953c4db889dd2a287a6dbfcf2b65136b/79e1b/04.png 498w"\n        sizes="(max-width: 498px) 100vw, 498px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",m.createElement(a.div,{className:"math math-display"},m.createElement(a.span,{className:"katex-display"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.msub,null,m.createElement(a.mi,null,"e"),m.createElement(a.mrow,null,m.createElement(a.mi,null,"i"),m.createElement(a.mi,null,"j"))),m.createElement(a.mo,null,"="),m.createElement(a.mrow,null,m.createElement(a.mo,{fence:"true"},"{"),m.createElement(a.mtable,{rowspacing:"0.16em",columnalign:"center",columnspacing:"1em"},m.createElement(a.mtr,null,m.createElement(a.mtd,null,m.createElement(a.mstyle,{scriptlevel:"0",displaystyle:"false"},m.createElement(a.mrow,null,m.createElement(a.msubsup,null,m.createElement(a.mi,null,"q"),m.createElement(a.mi,null,"i"),m.createElement(a.mi,null,"T")),m.createElement(a.msub,null,m.createElement(a.mi,null,"k"),m.createElement(a.mi,null,"j")),m.createElement(a.mo,{separator:"true"},","),m.createElement(a.mi,null,"j"),m.createElement(a.mo,null,"≤"),m.createElement(a.mi,null,"i"))))),m.createElement(a.mtr,null,m.createElement(a.mtd,null,m.createElement(a.mstyle,{scriptlevel:"0",displaystyle:"false"},m.createElement(a.mrow,null,m.createElement(a.mo,null,"−"),m.createElement(a.mi,{mathvariant:"normal"},"∞")))))),m.createElement(a.mo,{fence:"true"},"}"))),m.createElement(a.annotation,{encoding:"application/x-tex"},"e_{ij} = \\begin{Bmatrix} q_i^T k_j, j \\leq i \\\\ -\\infty \\end {Bmatrix}")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.7167em",verticalAlign:"-0.2861em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal"},"e"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"ij"))))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.2861em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"="),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}})),m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"2.4013em",verticalAlign:"-0.9507em"}}),m.createElement(a.span,{className:"minner"},m.createElement(a.span,{className:"mopen delimcenter",style:{top:"0em"}},m.createElement(a.span,{className:"delimsizing size3"},"{")),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mtable"},m.createElement(a.span,{className:"col-align-c"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"1.4507em"}},m.createElement(a.span,{style:{top:"-3.6093em"}},m.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"}},"q"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.8413em"}},m.createElement(a.span,{style:{top:"-2.4413em",marginLeft:"-0.0359em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight"},"i"))),m.createElement(a.span,{style:{top:"-3.063em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.2587em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"}},"k"),m.createElement(a.span,{className:"msupsub"},m.createElement(a.span,{className:"vlist-t vlist-t2"},m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.3117em"}},m.createElement(a.span,{style:{top:"-2.55em",marginLeft:"-0.0315em",marginRight:"0.05em"}},m.createElement(a.span,{className:"pstrut",style:{height:"2.7em"}}),m.createElement(a.span,{className:"sizing reset-size6 size3 mtight"},m.createElement(a.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"}},"j")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.2861em"}},m.createElement(a.span)))))),m.createElement(a.span,{className:"mpunct"},","),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.1667em"}}),m.createElement(a.span,{className:"mord mathnormal",style:{marginRight:"0.05724em"}},"j"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mrel"},"≤"),m.createElement(a.span,{className:"mspace",style:{marginRight:"0.2778em"}}),m.createElement(a.span,{className:"mord mathnormal"},"i"))),m.createElement(a.span,{style:{top:"-2.4093em"}},m.createElement(a.span,{className:"pstrut",style:{height:"3em"}}),m.createElement(a.span,{className:"mord"},m.createElement(a.span,{className:"mord"},"−"),m.createElement(a.span,{className:"mord"},"∞")))),m.createElement(a.span,{className:"vlist-s"},"​")),m.createElement(a.span,{className:"vlist-r"},m.createElement(a.span,{className:"vlist",style:{height:"0.9507em"}},m.createElement(a.span))))))),m.createElement(a.span,{className:"mclose delimcenter",style:{top:"0em"}},m.createElement(a.span,{className:"delimsizing size3"},"}")))))))),"\n",m.createElement(a.p,null,"Attention distribution을 구하기 위해 softmax를 할 때, ",m.createElement(a.span,{className:"math math-inline"},m.createElement(a.span,{className:"katex"},m.createElement(a.span,{className:"katex-mathml"},m.createElement(a.math,{xmlns:"http://www.w3.org/1998/Math/MathML"},m.createElement(a.semantics,null,m.createElement(a.mrow,null,m.createElement(a.mo,null,"−"),m.createElement(a.mi,{mathvariant:"normal"},"∞")),m.createElement(a.annotation,{encoding:"application/x-tex"},"- \\infty")))),m.createElement(a.span,{className:"katex-html","aria-hidden":"true"},m.createElement(a.span,{className:"base"},m.createElement(a.span,{className:"strut",style:{height:"0.6667em",verticalAlign:"-0.0833em"}}),m.createElement(a.span,{className:"mord"},"−"),m.createElement(a.span,{className:"mord"},"∞")))))," 값은 0에 가까운 값이 될 거에요.\r\n그래서 고려하지 않는 정보가 되는 것입니다."))}function c(e,a){throw new Error("Expected "+(a?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}a.Z=function(e){void 0===e&&(e={});const{wrapper:a}=Object.assign({},(0,s.ah)(),e.components);return a?m.createElement(a,e,m.createElement(n,e)):n(e)}}}]);
//# sourceMappingURL=0e15bc5c-e48395201cd90ad45bdd.js.map